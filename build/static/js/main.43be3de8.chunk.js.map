{"version":3,"sources":["routes/About.js","components/Movie.js","routes/Home.js","routes/dev_test.js","components/Navigation.js","components/Likedislike.js","components/Review.js","components/WriteReview.js","routes/Detail.js","routes/Login.js","App.js","index.js"],"names":["About","className","Movie","content_id","title","year","summary","poster","genres","to","pathname","state","src","alt","map","genre","index","key","slice","Home","isLoading","movies","getMovies","axios","get","data","setState","this","console","log","movie","id","toString","medium_cover_image","React","Component","dev_test","href","target","rel","Navigation","Likedislike","review_id","login_id","owner_id","useState","likecnt","setlikecnt","Dislikecnt","setDislikecnt","ownerchk","setownerchk","likedisable","setLikeDisable","Dislikedisable","setDislikeDisable","useEffect","post","then","response","res","JSON","parse","body","statusCode","length","nn","yn_like","CNT","filter","e","catch","error","fetchData","disabled","onClick","alert","Review","review_title","yn_reply","modified_day","review_body","yn_visible","sessionStorage","getItem","WriteReview","reply_id","numRows","wtitle","setInputValue","wbody","setInputValue2","type","placeholder","name","onChange","event","value","window","location","reload","Detail","reviews","getReviews","mycontent_id","props","match","params","url_content_id","myurl","history","undefined","push","url_content_title","review","Login","errorMessages","setErrorMessages","isSubmiited","setIsSubmitted","logindb","uname","password","errors","renderErrorMessage","message","renderForm","onSubmit","preventDefault","document","forms","upass","userData","find","user","setItem","required","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.43be3de8.chunk.js","sourcesContent":["import React from 'react';\nimport './About.css';\n\nfunction About() {\n  return (\n    <div className=\"about__container\">\n      <span>\n        “Freedom is the freedom to say that two plus two make four. If that is granted, all else\n        follows.”\n      </span>\n      <span>- George Orwell, 1984</span>\n    </div>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Movie.css';\nimport { Link } from 'react-router-dom';\n\nfunction Movie({ content_id, title, year, summary, poster, genres }) {\n  return (\n    <div className=\"movie\">\n      <Link to={{ pathname: '/movie-detail/'+content_id+'/'+title, state: { content_id, title} }}> \n        <img src={poster} alt={title} title={title} />\n        <div className=\"movie__data\">\n          <h3 className=\"movie__title\" content_id = {content_id}>{title}</h3>\n          <h5 className=\"movie__year\">{year}</h5>\n          <ul className=\"movie__genres\">\n            {genres.map((genre, index) => {\n              return (\n                <li key={index} className=\"movie__genre\">\n                  {genre}\n                </li>\n              );\n            })}\n          </ul>\n          <p className=\"movie__summary\">{summary.slice(0, 360)}...</p>\n        </div>\n      </Link>\n    </div>\n  );\n}\n\nMovie.propTypes = {\n  content_id: PropTypes.string.isRequired,\n  year: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  summary: PropTypes.string.isRequired,\n  poster: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default Movie;\n","import React from 'react';\nimport axios from 'axios';\nimport Movie from '../components/Movie';\nimport './Home.css';\n\nclass Home extends React.Component {\n  state = {\n    isLoading: true,\n    movies: [],\n  };\n  getMovies = async () => {\n    const {\n      data: {\n        data: { movies },\n      },\n    } =  await axios.get('https://pfvj29yvkb.execute-api.ap-northeast-2.amazonaws.com/Production');\n    // 람다로 만든 API URL : 웹브라우저에서는 작동하는데 소스에 넣으면 시간이 오래 걸리고 있음 - 구조 재확인 필요 : AWS API Gateway의 CORS 설정 변경 4XX 등\n    // https://pfvj29yvkb.execute-api.ap-northeast-2.amazonaws.com/Production \n    // await axios.get('https://yts-proxy.now.sh/list_movies.json?sort_by=rating');\n    this.setState({ movies, isLoading: false });\n  };\n  componentDidMount() {\n    this.getMovies();\n  }\n  render() {\n    console.log(this.state);\n    const { isLoading, movies } = this.state;\n    return (\n      <section className=\"container\">\n        {isLoading ? (\n          <div className=\"loader\">\n            <span className=\"loader__text\">Loading...</span>\n          </div>\n        ) : (\n          <div className=\"movies\">\n            {movies.map((movie) => {\n              return (\n                <Movie\n                  key={movie.id}\n                  content_id={movie.id.toString()}\n                  year={movie.year}\n                  title={movie.title}\n                  summary={movie.summary}\n                  poster={movie.medium_cover_image}\n                  genres={movie.genres}\n                />\n              );\n            })}\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nexport default Home;\n","import React from 'react';\nimport './dev_test.css';\n\nfunction dev_test() {\n  return (\n    <div className=\"dev_test_Link__container\">\n      <span>\n        <p>“dev_test Link.” </p>\n        <p><a href=\"http://www.naver.com\" target=\"_blank\" rel=\"noopener\"  >네이버</a></p>\n      </span>\n      <span>- George Orwell, 1984</span>\n    </div>\n  );\n}\n\nexport default dev_test;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './Navigation.css';\n\nfunction Navigation() {\n  return (\n    <div className=\"nav\">\n      <Link to=\"/\">Home</Link>\n      <Link to=\"/about\">About</Link>\n      <Link to=\"/dev_test\">dev_test</Link>\n      <Link to =\"/login\">login</Link>\n    </div>\n  );\n}\n\nexport default Navigation;\n","import React, { useState, useEffect } from 'react';\r\nimport './Review.css';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Likedislike({content_id, review_id, login_id, owner_id}) {\r\n    \r\n\r\n    const [likecnt, setlikecnt] = useState(0);\r\n    const [Dislikecnt, setDislikecnt] = useState(0);\r\n    const [ownerchk, setownerchk] = useState(1);\r\n    const [likedisable, setLikeDisable] = useState(false);\r\n    const [Dislikedisable, setDislikeDisable] = useState(false);\r\n\r\n\r\n    //const loginID = owner_id;\r\n   //  const loginID = \"testid\";\r\n\r\n   \r\n\r\n     useEffect(() => {\r\n         async function fetchData () {\r\n\r\n             console.log('content_id : ' + content_id + '  review_id :' + review_id + '  login_id :' + login_id);\r\n\r\n            axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production',\r\n                 {\r\n                     \"target\": \"getlike\",\r\n                     \"content_id\": content_id,\r\n                     \"review_id\": review_id\r\n                 })\r\n                 .then((response) => {\r\n\r\n                     const res = JSON.parse(response.data.body);\r\n\r\n                     if (response.data.statusCode === 200 && res.length > 0) {\r\n                         setlikecnt(likecnt => 0);\r\n                         setDislikecnt(Dislikecnt => 0);\r\n                       \r\n                         for (let nn in res) {\r\n                             if (res[nn].yn_like === 1) {\r\n                                 console.log(\"like : \" + res[nn].CNT);\r\n                                 setlikecnt(likecnt => res[nn].CNT);\r\n                             }\r\n                             else {\r\n                                 console.log(\"dislike : \" + res[nn].CNT);\r\n                                 setDislikecnt(Dislikecnt => res[nn].CNT);\r\n                             }\r\n\r\n                         }\r\n                     }\r\n\r\n                    axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production',\r\n                         {\r\n                             \"target\": \"ownerlist\",\r\n                             \"content_id\": content_id,\r\n                             \"review_id\": review_id\r\n                         }) \r\n                    .then((response)=> {\r\n                        \r\n                        if(  JSON.parse(response.data.body).filter(function (e) { return e.owner_id === login_id }).length > 0 ) {\r\n                            setownerchk(1) ;\r\n                            setLikeDisable(true);\r\n                            setDislikeDisable(true);\r\n                        }\r\n                        else {\r\n                            setownerchk(0) ;\r\n                        }\r\n                      console.log(\"review_id like owner chk no. : \" + ownerchk);\r\n                        \r\n                    })\r\n                    .catch((error) => {console.log(error);})                    \r\n                 })\r\n                 .catch((error) => {\r\n                     console.log(error.response);\r\n                     setlikecnt(likecnt => 0);\r\n                     setDislikecnt(Dislikecnt => 0);\r\n                 });\r\n         }\r\n\r\n         fetchData();\r\n         // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n\r\n    const likeadd = () => {\r\n        console.log('like add loginID:' + login_id + \" owner_id: \" + owner_id + \" ownerchk: \" + ownerchk );\r\n        if (login_id === owner_id ) {\r\n            alert('내 리뷰에 내가 좋아요는 못합니다.!')\r\n        } \r\n        else if (ownerchk > 0) {\r\n            alert('좋아요 혹은 싫어요를 이미 선택했습니다.')\r\n        }\r\n        else {\r\n            setlikecnt(likecnt => likecnt + 1);\r\n            axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production',\r\n                {\r\n                    \"target\": \"putlike\",\r\n                    \"content_id\": content_id,\r\n                    \"review_id\": review_id,\r\n                    \"owner_id\": login_id,\r\n                    \"yn_like\" : true\r\n                })\r\n                .then((response) => {\r\n\r\n                    console.log(response);\r\n\r\n                })\r\n                .catch((error) => { console.log(error); })\r\n                \r\n        }\r\n        setLikeDisable(true);\r\n        setDislikeDisable(true);\r\n    }\r\n\r\n    const Dislikeadd = () => {\r\n        console.log('Dislike add loginID:' + login_id + \" owner_id: \" + owner_id + \" ownerchk: \" + ownerchk);\r\n        if (login_id === owner_id) {\r\n            alert('내 리뷰에 내가 싫어요는 못합니다.!')\r\n        }\r\n        else if (ownerchk > 0) {\r\n            alert('좋아요 혹은 싫어요를 이미 선택했습니다.')\r\n        }\r\n        else {\r\n            setDislikecnt(Dislikecnt => Dislikecnt + 1);\r\n            axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production',\r\n                {\r\n                    \"target\": \"putlike\",\r\n                    \"content_id\": content_id,\r\n                    \"review_id\": review_id,\r\n                    \"owner_id\": login_id,\r\n                    \"yn_like\": false\r\n                })\r\n                .then((response) => {\r\n\r\n                    console.log(response);\r\n\r\n                })\r\n                .catch((error) => { console.log(error); })  \r\n        }\r\n        setLikeDisable(true);\r\n        setDislikeDisable(true);\r\n       \r\n    }\r\n\r\n\r\n    return (\r\n        <div className = \"likedislike\" > {review_id} / {login_id} / {ownerchk}\r\n            <img src=\"./assets/iconmonstr-thumb-14.svg\" alt=\"like\" /><button disabled={likedisable} onClick={likeadd}>{likecnt}</button>  \r\n            <img src=\"./assets/iconmonstr-thumb-20.svg\" alt=\"dislkie\" /><button disabled={Dislikedisable} onClick={Dislikeadd}>{Dislikecnt}</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nLikedislike.propTypes = {\r\n    content_id: PropTypes.string.isRequired,\r\n    review_id: PropTypes.string.isRequired,\r\n    owner_id: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Likedislike; ","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Review.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Likedislike from './Likedislike';\r\n\r\n\r\nfunction Review({ review_id, content_id, title, owner_id, yn_reply, review_title, modified_day, review_body, yn_visible }) {\r\n  return (\r\n    <div className=\"review\">\r\n          <div className=\"review__data\" alt={review_id}> \r\n          <h3 className=\"content__title\">{title}</h3>\r\n          <h3 className=\"review__title\">{review_title}</h3>\r\n          <ul className=\"review__owner__id\">{owner_id}</ul>\r\n          <ul className=\"content__id\">{content_id}</ul>\r\n          <p className=\"review__body\">{review_body.slice(0, 2000)}...</p>\r\n          <h5 className=\"modified_day\">{modified_day}</h5>\r\n        </div>\r\n        <Likedislike\r\n          content_id = {content_id.toString()}\r\n          review_id= {review_id.toString()}\r\n        login_id={sessionStorage.getItem(\"uname\")}\r\n         owner_id = {owner_id}\r\n        />\r\n    </div>\r\n  );\r\n}\r\n\r\nReview.propTypes = {\r\n  content_id: PropTypes.string.isRequired,\r\n  review_id: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  owner_id: PropTypes.string.isRequired,\r\n  review_title: PropTypes.string.isRequired,\r\n  review_body: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Review;","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport './Review.css';\r\n\r\n\r\nfunction WriteReview({ content_id, login_id, reply_id, numRows }) {\r\n  \r\n    let [wtitle, setInputValue] = useState(\"\");\r\n    let [wbody, setInputValue2] = useState(\"\");\r\n\r\n    const submitReview = (e) => {\r\n  \r\n        axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production',\r\n              {\r\n                  \"target\": \"review\",\r\n                  \"content_id\": content_id,\r\n                  \"reply_id\": \"0\",\r\n                  \"owner_id\": login_id,\r\n                  \"review_title\": wtitle,\r\n                  \"review_body\": wbody\r\n              }).then(\r\n                () => {alert('등록완료');}\r\n              )\r\n\r\n      setInputValue(\"\");\r\n      setInputValue2(\"\");\r\n      window.location.reload(); \r\n    };\r\n\r\n    console.log(\"content_id :\" + content_id + \", login_id :\" + login_id);\r\n\r\n    return (\r\n        <div className=\"form_review_write\">\r\n          <h5 className=\"content_title\" >리뷰작성:{content_id}</h5>\r\n          <h5 className=\"content_title\" >{login_id}</h5>\r\n          <input className = \"title_input\" type=\"text\" placeholder=\"제목\" name = \"wtitle\" onChange={(event) => setInputValue(event.target.value)} ></input>\r\n            <input className=\"body_input\" type=\"text\" placeholder=\"내용\" name=\"wbody\" onChange={(event) => setInputValue2(event.target.value)}></input>\r\n          <p></p>\r\n        <button className=\"submit_button\" value=\"글쓰기\" onClick={submitReview}>글쓰기</button>\r\n          <button className=\"go_list_button\" value=\"목록으로\">목록으로</button>\r\n        </div>\r\n    );\r\n}\r\n\r\n/*\r\n\r\n  <div className=\"reviews\" >\r\n           <table className=\"form_review_write\">\r\n             <tr>\r\n               <th className=\"content_title\" >\r\n                 리뷰작성\r\n               </th>\r\n             </tr>\r\n             <tr>\r\n               <td className=\"review_title\">\r\n                 <input type=\"text\" placeholder=\"제목\" maxlength=\"50\" style=\"width:100%\"></input>\r\n               </td>\r\n             </tr>\r\n             <tr>\r\n               <td className=\"review_body\">\r\n                 <textarea placeholder=\"내용\" style=\"width: 100%; height: 100%\"></textarea>\r\n               </td>\r\n             </tr>\r\n             <tr>\r\n               <td colspan=\"2\" align=\"right\">\r\n                 <input type=\"button\" value=\"글쓰기\"></input>\r\n                 <input type=\"button\" value=\"목록으로\"></input>\r\n                </td>\r\n              </tr>\r\n             </table>\r\n          </div>\r\n          \r\n\r\nfunction WriteReview({ content_id, owner_id, reply_id }) {\r\n  return (\r\n       <div className=\"form_review_write\">\r\n      <Link to={{ pathname: '/review', state: { content_id, owner_id, reply_id, review_title, review_body } }}>\r\n      <div className=\"review__data\">\r\n        <h3 className=\"content__title\">{title}</h3>\r\n        <h3 className=\"review__title\"><span>리뷰제목</span><input name='review_title' ></input></h3>\r\n        <ul className=\"review__owner__id\">{owner_id}</ul>\r\n        <p className=\"review__body\"><span>내용</span><textarea name='review_body'></textarea></p>\r\n      </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n} */\r\n\r\nWriteReview.propTypes = {\r\n    content_id: PropTypes.string.isRequired,\r\n    login_id: PropTypes.string.isRequired,\r\n    reply_id: PropTypes.string.isRequired\r\n};\r\n\r\nexport default WriteReview;","import React from 'react';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport WriteReview from '../components/WriteReview';\nimport './Detail.css';\n\nclass Detail extends React.Component {\n   state = {\n    isLoading: true,\n    reviews: [],\n    content_id : 0, \n    numRows: 0\n  }; \n\n  getReviews = async () => {\n    const mycontent_id = this.props.match.params.url_content_id;\n    var myurl;\n    if (mycontent_id){\n      myurl = 'https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=' + mycontent_id;\n    }\n    else{\n      myurl = 'https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=ALL';\n    }\n    const { data:reviews } = await axios.get(myurl); \n    console.log('myurl : ' + myurl);\n    // 람다로 만든 API URL : 리뷰 리스트 업, content_id 에 해당하는 영화 아이디를 넣음\n    var numRows = reviews.length ;\n    this.setState({ reviews, isLoading: false, mycontent_id, numRows });\n  };\n  \n  componentDidMount() {\n   // const { location, history } = this.props;\n    const { history } = this.props;\n    if (this.props.match.params.url_content_id === undefined) { //location.state === undefined ||\n      history.push('/');\n    } \n    this.getReviews();\n  }\n\n  render() {\n    // const { location } = this.props;\n    \n    const { isLoading, reviews, numRows } = this.state;\n    const url_content_id = this.props.match.params.url_content_id;\n    const url_content_title = this.props.match.params.url_content_title ;\n    console.log(\"login_id render:\" + sessionStorage.getItem(\"uname\"));\n    \n     if (isLoading) {\n      return (\n        <section className=\"reviewcontainer\">\n        <div className=\"loader\">\n          <span className=\"loader__text\">Loading...</span>\n        </div>\n        </section>\n      );\n    }\n\n    if (!this.state) {\n      return null; // defense code have not mean.\n    }\n\n    if (!numRows) {\n      return (\n      <section className=\"reviewcontainer\">\n         <div className=\"reviews\">\n            <span>{url_content_title}에 대해 첫리뷰를 작성해주세요</span>\n         <WriteReview\n            content_id={url_content_id.toString()}\n            login_id={sessionStorage.getItem(\"uname\")}\n            reply_id= \"0\"\n            numRows = {0}\n          />\n        </div>  \n      </section>\n      );\n    }\n\n    return (\n      <section className=\"reviewcontainer\">\n          <div className=\"reviews\">\n          <WriteReview\n            content_id={url_content_id.toString()}\n            login_id ={sessionStorage.getItem(\"uname\")}\n            reply_id= \"0\"\n            numRows = {numRows}\n          />\n            {\n              reviews.map((review) => {\n               return (\n                <Review\n                   key={review.id.toString()}\n                  review_id = {review.id.toString()}\n                  content_id={review.content_id.toString()}\n                  title= {url_content_title}\n                  owner_id={review.owner_id}\n                  yn_reply={review.yn_reply}\n                  review_title={review.review_title}\n                  review_body={review.review_body}\n                  modified_day={review.modified_day}\n                  yn_visible={review.yn_visible}\n                />\n              );\n            })}\n          </div>\n      </section> );\n  }\n}\n\nexport default Detail;","import React, {useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport './Login.css';\n\n\nfunction Login() {\n\nconst [errorMessages, setErrorMessages] = useState({});\nconst [isSubmiited, setIsSubmitted] = useState(false);\n\nconst logindb = [\n  {\n    uname : \"sohan1\",\n    password : \"pass1\"\n  },\n  {\n    uname : \"sohan2\",\n    password : \"pass2\"\n  }\n];\n\nconst errors = {\n  uname: \"invalide username\",\n  upass: \"invalid password\"\n};\n\nconst handleSubmit = (event) => {\n  event.preventDefault();\n\n  var {uname, upass} = document.forms[0];\n\n  const userData = logindb.find((user) => user.uname === uname.value );\n\n  if ( userData) {\n    if(userData.password !== upass.value ) {\n      setErrorMessages({name : \"upass\", message: errors.upass});\n    } else {\n      setIsSubmitted(true);\n      sessionStorage.setItem(\"uname\", userData.uname);\n    }\n  } else {\n    setErrorMessages({name : \"uname\", message: errors.uname });\n  }\n};\n\nconst renderErrorMessage = (name) => name === errorMessages.name && (\n  <div className=\"error\">{errorMessages.message}</div>\n);\n\n  const renderForm = (\n    <div className=\"form\">\n    <form onSubmit = {handleSubmit}>\n     <div className=\"input-container\">\n      <label>Nickname</label>\n      <input type = \"myid\" name=\"uname\" required />\n      {renderErrorMessage(\"uname\")}\n     </div>\n     <div className=\"input-container\">\n      <label>Password</label>\n      <input type = \"password\" name=\"upass\" required />\n      {renderErrorMessage(\"upass\")}\n     </div>\n     <div className=\"button-container\">\n      <input type = \"submit\" />\n     </div>\n    </form>\n    </div>\n  );\n\n  return (\n    <div className=\"login__container\">\n      <div className=\"mytitle\">Log In</div>\n      {isSubmiited ? <div>User is successfullly logged in</div> : renderForm}\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport './App.css';\nimport { HashRouter, Route } from 'react-router-dom';\nimport About from './routes/About';\nimport Home from './routes/Home';\nimport dev_test from './routes/dev_test';\nimport Navigation from './components/Navigation';\nimport Detail from './routes/Detail';\nimport Login from './routes/Login' ;\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Navigation />\n      <Route path=\"/\" exact={true} component={Home} />\n      <Route path=\"/about\" component={About} />\n      <Route path=\"/dev_test\" component={dev_test} />\n      <Route path=\"/movie-detail/:url_content_id/:url_content_title\" component={Detail} />\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/img/*\" />\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}