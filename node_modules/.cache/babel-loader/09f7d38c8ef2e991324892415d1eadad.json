{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\clone-starter-kit-08\\\\src\\\\routes\\\\Detail.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport './Detail.css';\n\nclass Detail extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isLoading: true,\n      reviews: []\n    };\n\n    this.getReviews = async () => {\n      const {\n        data: reviews\n      } = await axios.get('https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=1'); // 람다로 만든 API URL : 리뷰 리스트 업, content_id 에 해당하는 영화 아이디를 넣음\n\n      /*\n      const reviews =[{\n      \"id\": 1,\n      \"content_id\": 0,\n      \"reply_id\": 0,\n      \"owner_id\": \"sohan\",\n      \"yn_reply\": 0,\n      \"review_title\": \"title_test\",\n      \"review_body\": \"review_body_test\",\n      \"modified_day\": \"2022-07-12T08:59:31.000Z\",\n      \"yn_visible\": 1\n      },\n      {\n      \"id\": 2,\n      \"content_id\": 0,\n      \"reply_id\": 0,\n      \"owner_id\": \"sohan\",\n      \"yn_reply\": 0,\n      \"review_title\": \"title_test2\",\n      \"review_body\": \"review_body_test22\",\n      \"modified_day\": \"2022-07-12T08:59:47.000Z\",\n      \"yn_visible\": 1\n      },\n      {\n      \"id\": 3,\n      \"content_id\": 0,\n      \"reply_id\": 0,\n      \"owner_id\": \"sohan\",\n      \"yn_reply\": 0,\n      \"review_title\": \"title_test3\",\n      \"review_body\": \"리뷰 테스트트트\",\n      \"modified_day\": \"2022-07-18T01:56:20.000Z\",\n      \"yn_visible\": 1\n      }]; */\n\n      console.log('id : ' + this.props.content_id);\n      this.setState({\n        reviews,\n        isLoading: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      location,\n      history\n    } = this.props;\n\n    if (location.state === undefined) {\n      history.push('/');\n    }\n\n    this.getReviews();\n  }\n\n  render() {\n    console.log(\"componentDidMout\" + this.props);\n    const {\n      location\n    } = this.props;\n    const {\n      isLoading,\n      reviews\n    } = this.state;\n\n    if (location.state) {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"reviewcontainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"loader__text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, \"Loading...\")) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"reviews\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, location.state.content_id, \",\", location.state.title), reviews.map(review => {\n        return /*#__PURE__*/React.createElement(Review, {\n          key: review.id,\n          id: review.content_id,\n          owner_id: review.owner_id,\n          yn_reply: review.yn_reply,\n          review_title: review.review_title,\n          review_body: review.review_body,\n          modified_day: review.modified_day,\n          yn_visible: review.yn_visible,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }\n        });\n      })));\n    } else {\n      return null;\n    }\n  }\n\n}\n\nexport default Detail;","map":{"version":3,"names":["React","axios","Review","Detail","Component","state","isLoading","reviews","getReviews","data","get","console","log","props","content_id","setState","componentDidMount","location","history","undefined","push","render","title","map","review","id","owner_id","yn_reply","review_title","review_body","modified_day","yn_visible"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/src/routes/Detail.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport './Detail.css';\n\nclass Detail extends React.Component {\n  state = {\n    isLoading: true,\n    reviews: [],\n  };\n\n  getReviews = async () => {\n    const { data:reviews } = await axios.get('https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=1'); \n    // 람다로 만든 API URL : 리뷰 리스트 업, content_id 에 해당하는 영화 아이디를 넣음\n    /*\n    const reviews =[{\n  \"id\": 1,\n  \"content_id\": 0,\n  \"reply_id\": 0,\n  \"owner_id\": \"sohan\",\n  \"yn_reply\": 0,\n  \"review_title\": \"title_test\",\n  \"review_body\": \"review_body_test\",\n  \"modified_day\": \"2022-07-12T08:59:31.000Z\",\n  \"yn_visible\": 1\n},\n  {\n    \"id\": 2,\n    \"content_id\": 0,\n    \"reply_id\": 0,\n    \"owner_id\": \"sohan\",\n    \"yn_reply\": 0,\n    \"review_title\": \"title_test2\",\n    \"review_body\": \"review_body_test22\",\n    \"modified_day\": \"2022-07-12T08:59:47.000Z\",\n    \"yn_visible\": 1\n  },\n  {\n    \"id\": 3,\n    \"content_id\": 0,\n    \"reply_id\": 0,\n    \"owner_id\": \"sohan\",\n    \"yn_reply\": 0,\n    \"review_title\": \"title_test3\",\n    \"review_body\": \"리뷰 테스트트트\",\n    \"modified_day\": \"2022-07-18T01:56:20.000Z\",\n    \"yn_visible\": 1\n  }]; */\n    console.log('id : ' + this.props.content_id);\n    this.setState({ reviews, isLoading: false });\n  };\n  \n  componentDidMount() {\n    const { location, history } = this.props;\n    if (location.state === undefined) {\n      history.push('/');\n    } \n    \n    this.getReviews();\n  }\n\n  render() {\n    console.log(\"componentDidMout\" + this.props);\n    const { location } = this.props;\n    const { isLoading, reviews } = this.state;\n    if (location.state) {  \n    return (\n      <section className=\"reviewcontainer\">\n        {isLoading ? (\n          <div className=\"loader\">\n            <span className=\"loader__text\">Loading...</span>\n          </div>\n        ) : (\n          <div className=\"reviews\">\n            <span>{location.state.content_id},{location.state.title}</span>\n            { reviews.map((review) => {\n              return (\n                <Review\n                  key = {review.id}\n                  id={review.content_id}\n                  owner_id={review.owner_id}\n                  yn_reply={review.yn_reply}\n                  review_title={review.review_title}\n                  review_body={review.review_body}\n                  modified_day={review.modified_day}\n                  yn_visible={review.yn_visible}\n                />\n              );\n            })}\n          </div>\n        )}\n      </section>\n    );\n  }\n  else {\n    return null\n  }\n  } \n}\n\nexport default Detail;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAO,cAAP;;AAEA,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAqC;EAAA;IAAA;IAAA,KACnCC,KADmC,GAC3B;MACNC,SAAS,EAAE,IADL;MAENC,OAAO,EAAE;IAFH,CAD2B;;IAAA,KAMnCC,UANmC,GAMtB,YAAY;MACvB,MAAM;QAAEC,IAAI,EAACF;MAAP,IAAmB,MAAMN,KAAK,CAACS,GAAN,CAAU,0FAAV,CAA/B,CADuB,CAEvB;;MACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MACIC,OAAO,CAACC,GAAR,CAAY,UAAU,KAAKC,KAAL,CAAWC,UAAjC;MACA,KAAKC,QAAL,CAAc;QAAER,OAAF;QAAWD,SAAS,EAAE;MAAtB,CAAd;IACD,CA7CkC;EAAA;;EA+CnCU,iBAAiB,GAAG;IAClB,MAAM;MAAEC,QAAF;MAAYC;IAAZ,IAAwB,KAAKL,KAAnC;;IACA,IAAII,QAAQ,CAACZ,KAAT,KAAmBc,SAAvB,EAAkC;MAChCD,OAAO,CAACE,IAAR,CAAa,GAAb;IACD;;IAED,KAAKZ,UAAL;EACD;;EAEDa,MAAM,GAAG;IACPV,OAAO,CAACC,GAAR,CAAY,qBAAqB,KAAKC,KAAtC;IACA,MAAM;MAAEI;IAAF,IAAe,KAAKJ,KAA1B;IACA,MAAM;MAAEP,SAAF;MAAaC;IAAb,IAAyB,KAAKF,KAApC;;IACA,IAAIY,QAAQ,CAACZ,KAAb,EAAoB;MACpB,oBACE;QAAS,SAAS,EAAC,iBAAnB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACGC,SAAS,gBACR;QAAK,SAAS,EAAC,QAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE;QAAM,SAAS,EAAC,cAAhB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBADF,CADQ,gBAKR;QAAK,SAAS,EAAC,SAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAOW,QAAQ,CAACZ,KAAT,CAAeS,UAAtB,OAAmCG,QAAQ,CAACZ,KAAT,CAAeiB,KAAlD,CADF,EAEIf,OAAO,CAACgB,GAAR,CAAaC,MAAD,IAAY;QACxB,oBACE,oBAAC,MAAD;UACE,GAAG,EAAIA,MAAM,CAACC,EADhB;UAEE,EAAE,EAAED,MAAM,CAACV,UAFb;UAGE,QAAQ,EAAEU,MAAM,CAACE,QAHnB;UAIE,QAAQ,EAAEF,MAAM,CAACG,QAJnB;UAKE,YAAY,EAAEH,MAAM,CAACI,YALvB;UAME,WAAW,EAAEJ,MAAM,CAACK,WANtB;UAOE,YAAY,EAAEL,MAAM,CAACM,YAPvB;UAQE,UAAU,EAAEN,MAAM,CAACO,UARrB;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EADF;MAYD,CAbC,CAFJ,CANJ,CADF;IA2BD,CA5BC,MA6BG;MACH,OAAO,IAAP;IACD;EACA;;AA5FkC;;AA+FrC,eAAe5B,MAAf"},"metadata":{},"sourceType":"module"}