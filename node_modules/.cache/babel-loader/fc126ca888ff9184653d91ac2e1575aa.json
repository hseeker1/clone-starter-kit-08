{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\clone-starter-kit-08\\\\src\\\\routes\\\\Detail.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport './Detail.css';\n\nclass Detail extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isLoading: true,\n      reviews: []\n    };\n\n    this.getReviews = async thiscontent_id => {\n      console.log('prev_id : ' + thiscontent_id);\n      var myurl;\n\n      if (thiscontent_id) {\n        myurl = 'https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=' + thiscontent_id;\n      } else {\n        myurl = 'https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=ALL';\n      }\n\n      const {\n        data: reviews\n      } = await axios.get(myurl);\n      console.log('myurl : ' + myurl); // 람다로 만든 API URL : 리뷰 리스트 업, content_id 에 해당하는 영화 아이디를 넣음\n\n      this.setState({\n        reviews,\n        isLoading: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      location,\n      history\n    } = this.props;\n\n    if (location.state === undefined || location.state.content_id === undefined) {\n      history.push('/');\n    }\n\n    this.getReviews(location.state.content_id);\n  }\n\n  render() {\n    console.log(\"componentDidMout\" + this.props);\n    const {\n      location\n    } = this.props;\n    const {\n      isLoading,\n      reviews\n    } = this.state;\n    const numRows = reviews.length;\n\n    if (!location.state) {\n      return null; // defense code have not mean.\n    }\n\n    if (isLoading) {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"reviewcontainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"loader__text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }, \"Loading...\")));\n    }\n\n    if (!numRows) {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"reviewcontainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"reviews\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, \"This is null!\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"reviewcontainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reviews\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"form_review_write\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"content_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 16\n      }\n    }, \"\\uB9AC\\uBDF0\\uC791\\uC131\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"review_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uC81C\\uBAA9\",\n      maxlength: \"50\",\n      style: \"width:100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 18\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"review_body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"\\uB0B4\\uC6A9\",\n      style: \"width: 100%; height: 100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 18\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colspan: \"2\",\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\uAE00\\uC4F0\\uAE30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\uBAA9\\uB85D\\uC73C\\uB85C\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 18\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reviews\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, reviews.map(review => {\n      return /*#__PURE__*/React.createElement(Review, {\n        key: review.id,\n        id: review.content_id,\n        title: location.state.title,\n        owner_id: review.owner_id,\n        yn_reply: review.yn_reply,\n        review_title: review.review_title,\n        review_body: review.review_body,\n        modified_day: review.modified_day,\n        yn_visible: review.yn_visible,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      });\n    })));\n  }\n\n}\n\nexport default Detail;","map":{"version":3,"names":["React","axios","Review","Detail","Component","state","isLoading","reviews","getReviews","thiscontent_id","console","log","myurl","data","get","setState","componentDidMount","location","history","props","undefined","content_id","push","render","numRows","length","map","review","id","title","owner_id","yn_reply","review_title","review_body","modified_day","yn_visible"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/src/routes/Detail.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Review from '../components/Review';\nimport './Detail.css';\n\nclass Detail extends React.Component {\n  state = {\n    isLoading: true,\n    reviews: [],\n  };\n\n  getReviews = async (thiscontent_id) => {\n    \n    console.log('prev_id : ' + thiscontent_id);\n    var myurl;\n    if (thiscontent_id){\n      myurl = 'https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=' + thiscontent_id;\n    }\n    else{\n      myurl = 'https://8snn27pzii.execute-api.ap-northeast-2.amazonaws.com/web3studydbconn?content_id=ALL';\n    }\n    const { data:reviews } = await axios.get(myurl); \n    console.log('myurl : ' + myurl);\n    // 람다로 만든 API URL : 리뷰 리스트 업, content_id 에 해당하는 영화 아이디를 넣음\n       \n    this.setState({ reviews, isLoading: false });\n  };\n  \n  componentDidMount() {\n    const { location, history } = this.props;\n    if (location.state === undefined || location.state.content_id === undefined ) {\n      history.push('/');\n    } \n    this.getReviews(location.state.content_id);\n  }\n\n  render() {\n    console.log(\"componentDidMout\" + this.props);\n    const { location } = this.props;\n    const { isLoading, reviews } = this.state;\n    const numRows = reviews.length;\n\n    if (!location.state) {\n      return null; // defense code have not mean.\n    }\n\n    if (isLoading) {\n      return (\n        <section className=\"reviewcontainer\">\n        <div className=\"loader\">\n          <span className=\"loader__text\">Loading...</span>\n        </div>\n        </section>\n      );\n    }\n\n    if (!numRows) {\n      return (\n      <section className=\"reviewcontainer\">\n        <div className=\"reviews\">\n        <span>This is null!</span>\n        </div>  \n      </section>\n      );\n    }\n\n     return (\n      <section className=\"reviewcontainer\">\n         <div className=\"reviews\" >\n           <table className=\"form_review_write\">\n             <tr>\n               <th className=\"content_title\" >\n                 리뷰작성\n               </th>\n             </tr>\n             <tr>\n               <td className=\"review_title\">\n                 <input type=\"text\" placeholder=\"제목\" maxlength=\"50\" style=\"width:100%\"></input>\n               </td>\n             </tr>\n             <tr>\n               <td className=\"review_body\">\n                 <textarea placeholder=\"내용\" style=\"width: 100%; height: 100%\"></textarea>\n               </td>\n             </tr>\n             <tr>\n               <td colspan=\"2\" align=\"right\">\n                 <input type=\"button\" value=\"글쓰기\"></input>\n                 <input type=\"button\" value=\"목록으로\"></input>\n                </td>\n              </tr>\n             </table>\n          </div>\n          \n          <div className=\"reviews\">\n            { reviews.map((review) => {\n              return (\n                <Review\n                  key = {review.id}\n                  id={review.content_id}\n                  title={location.state.title}\n                  owner_id={review.owner_id}\n                  yn_reply={review.yn_reply}\n                  review_title={review.review_title}\n                  review_body={review.review_body}\n                  modified_day={review.modified_day}\n                  yn_visible={review.yn_visible}\n                />\n              );\n            })}\n          </div>\n      </section> );\n  }\n}\n\nexport default Detail;"],"mappings":"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"},"metadata":{},"sourceType":"module"}