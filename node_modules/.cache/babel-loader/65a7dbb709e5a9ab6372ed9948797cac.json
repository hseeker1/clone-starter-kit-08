{"ast":null,"code":"/*\r\n    Copyright 2022 The caver-js Authors\r\n    This file is part of the caver-js library.\r\n\r\n    The caver-js library is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Lesser General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    The caver-js library is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n    GNU Lesser General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Lesser General Public License\r\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\r\n*/\nconst AccessTuple = require('./accessTuple');\n/**\r\n * Represents an access list.\r\n * AccessList is an EIP-2930 access list.\r\n * @class\r\n */\n\n\nclass AccessList extends Array {\n  /**\r\n   * Creates an access list.\r\n   *\r\n   * @example\r\n   * const items = [\r\n   *      caver.transaction.utils.accessTuple.create('0x{address in hex}', [ '0x{storage key}' ]),\r\n   *      caver.transaction.utils.accessTuple.create('0x{address in hex}', [ '0x{storage key}' ]),\r\n   * ]\r\n   * const result = caver.transaction.utils.accessList.create(items)\r\n   *\r\n   *\r\n   * const items = [\r\n   *      { address: '0x{address in hex}', storageKeys: [ '0x{storage key}' ] },\r\n   *      { address: '0x{address in hex}', storageKeys: [ '0x{storage key}' ] },\r\n   * ]\r\n   * const result = caver.transaction.utils.accessList.create(items)\r\n   *\r\n   * @param {Array.<AccessTuple> | Array.<module:Transaction.AccessTupleObject>} items - An array of the access list items.\r\n   * @return {AccessList} An access list.\r\n   */\n  static create(items) {\n    const accessList = new AccessList();\n\n    for (const item of items) {\n      accessList.push(AccessTuple.create(item.address, item.storageKeys));\n    }\n\n    return accessList;\n  }\n  /**\r\n   * Returns a decoded access list.\r\n   *\r\n   * @example\r\n   * const encoded = [\r\n   *      [\r\n   *          '0xac60c5e6d2a8f3fe856ad0a39522098e03065893',\r\n   *          [\r\n   *              '0x0000000000000000000000000000000000000000000000000000000000000000'\r\n   *          ]\r\n   *      ]\r\n   * ]\r\n   * const result = caver.transaction.utils.accessList.decode(encoded)\r\n   *\r\n   * @param {Array.<Array.<string|Array.<string>>> items - An encoded access list.\r\n   * @return {AccessList} An access list.\r\n   */\n\n\n  static decode(encoded) {\n    const accessList = new AccessList();\n\n    for (const item of encoded) {\n      accessList.push(AccessTuple.create(item[0], item[1]));\n    }\n\n    return accessList;\n  }\n  /**\r\n   * Added access tuple in access list.\r\n   *\r\n   * @example\r\n   * accessList.push(caver.transaction.utils.accessTuple.create('0x{address in hex}', [ '0x{storage key}' ]))\r\n   * accessList.push({ address: '0x{address in hex}', storageKeys: [ '0x{storage key}' ] })\r\n   *\r\n   * @param {AccessTuple | module:Transaction.AccessTupleObject} item - An object of the access list item.\r\n   * @return {number}\r\n   */\n\n\n  push(item) {\n    if (!(item instanceof AccessTuple)) item = AccessTuple.create(item);\n    return super.push(item);\n  }\n  /**\r\n   * Returns an encoded access list.\r\n   *\r\n   * @example\r\n   * const result = accessList.encodeToBytes()\r\n   *\r\n   * @return {Array.<Array.<string|Array.<string>>>} An encoded access list.\r\n   */\n\n\n  encodeToBytes() {\n    const bufferAccessList = [];\n\n    for (let i = 0; i < this.length; i++) {\n      const item = this[i];\n      bufferAccessList.push(item.encodeToBytes());\n    }\n\n    return bufferAccessList;\n  }\n  /**\r\n   * Returns whether the AccessList object is the same as the accessList passed as a parameter.\r\n   *\r\n   * @example\r\n   * const result = accessList.isEqual(acl)\r\n   *\r\n   * @return {boolean} Returns `true` is accessList has value with a param.\r\n   */\n\n\n  isEqual(acl) {\n    if (this.length !== acl.length) return false;\n\n    for (let i = 0; i < this.length; i++) {\n      const item = this[i];\n      const target = acl[i];\n      if (!item.isEqual(target)) return false;\n    }\n\n    return true;\n  }\n  /**\r\n   * Returns a JSON object without _ prefix variable name.\r\n   *\r\n   * @example\r\n   * const result = accessList.toObject()\r\n   *\r\n   * @return {Array.<module:Transaction.AccessTupleObject>} An access list object.\r\n   */\n\n\n  toObject() {\n    const accessListObject = [];\n\n    for (let i = 0; i < this.length; i++) {\n      accessListObject.push(this[i].toObject());\n    }\n\n    return accessListObject;\n  }\n\n}\n\nmodule.exports = AccessList;","map":{"version":3,"names":["AccessTuple","require","AccessList","Array","create","items","accessList","item","push","address","storageKeys","decode","encoded","encodeToBytes","bufferAccessList","i","length","isEqual","acl","target","toObject","accessListObject","module","exports"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/node_modules/caver-js/packages/caver-transaction/src/utils/accessList.js"],"sourcesContent":["/*\r\n    Copyright 2022 The caver-js Authors\r\n    This file is part of the caver-js library.\r\n\r\n    The caver-js library is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Lesser General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    The caver-js library is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n    GNU Lesser General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Lesser General Public License\r\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nconst AccessTuple = require('./accessTuple')\r\n\r\n/**\r\n * Represents an access list.\r\n * AccessList is an EIP-2930 access list.\r\n * @class\r\n */\r\nclass AccessList extends Array {\r\n    /**\r\n     * Creates an access list.\r\n     *\r\n     * @example\r\n     * const items = [\r\n     *      caver.transaction.utils.accessTuple.create('0x{address in hex}', [ '0x{storage key}' ]),\r\n     *      caver.transaction.utils.accessTuple.create('0x{address in hex}', [ '0x{storage key}' ]),\r\n     * ]\r\n     * const result = caver.transaction.utils.accessList.create(items)\r\n     *\r\n     *\r\n     * const items = [\r\n     *      { address: '0x{address in hex}', storageKeys: [ '0x{storage key}' ] },\r\n     *      { address: '0x{address in hex}', storageKeys: [ '0x{storage key}' ] },\r\n     * ]\r\n     * const result = caver.transaction.utils.accessList.create(items)\r\n     *\r\n     * @param {Array.<AccessTuple> | Array.<module:Transaction.AccessTupleObject>} items - An array of the access list items.\r\n     * @return {AccessList} An access list.\r\n     */\r\n    static create(items) {\r\n        const accessList = new AccessList()\r\n        for (const item of items) {\r\n            accessList.push(AccessTuple.create(item.address, item.storageKeys))\r\n        }\r\n        return accessList\r\n    }\r\n\r\n    /**\r\n     * Returns a decoded access list.\r\n     *\r\n     * @example\r\n     * const encoded = [\r\n     *      [\r\n     *          '0xac60c5e6d2a8f3fe856ad0a39522098e03065893',\r\n     *          [\r\n     *              '0x0000000000000000000000000000000000000000000000000000000000000000'\r\n     *          ]\r\n     *      ]\r\n     * ]\r\n     * const result = caver.transaction.utils.accessList.decode(encoded)\r\n     *\r\n     * @param {Array.<Array.<string|Array.<string>>> items - An encoded access list.\r\n     * @return {AccessList} An access list.\r\n     */\r\n    static decode(encoded) {\r\n        const accessList = new AccessList()\r\n        for (const item of encoded) {\r\n            accessList.push(AccessTuple.create(item[0], item[1]))\r\n        }\r\n        return accessList\r\n    }\r\n\r\n    /**\r\n     * Added access tuple in access list.\r\n     *\r\n     * @example\r\n     * accessList.push(caver.transaction.utils.accessTuple.create('0x{address in hex}', [ '0x{storage key}' ]))\r\n     * accessList.push({ address: '0x{address in hex}', storageKeys: [ '0x{storage key}' ] })\r\n     *\r\n     * @param {AccessTuple | module:Transaction.AccessTupleObject} item - An object of the access list item.\r\n     * @return {number}\r\n     */\r\n    push(item) {\r\n        if (!(item instanceof AccessTuple)) item = AccessTuple.create(item)\r\n        return super.push(item)\r\n    }\r\n\r\n    /**\r\n     * Returns an encoded access list.\r\n     *\r\n     * @example\r\n     * const result = accessList.encodeToBytes()\r\n     *\r\n     * @return {Array.<Array.<string|Array.<string>>>} An encoded access list.\r\n     */\r\n    encodeToBytes() {\r\n        const bufferAccessList = []\r\n        for (let i = 0; i < this.length; i++) {\r\n            const item = this[i]\r\n            bufferAccessList.push(item.encodeToBytes())\r\n        }\r\n        return bufferAccessList\r\n    }\r\n\r\n    /**\r\n     * Returns whether the AccessList object is the same as the accessList passed as a parameter.\r\n     *\r\n     * @example\r\n     * const result = accessList.isEqual(acl)\r\n     *\r\n     * @return {boolean} Returns `true` is accessList has value with a param.\r\n     */\r\n    isEqual(acl) {\r\n        if (this.length !== acl.length) return false\r\n\r\n        for (let i = 0; i < this.length; i++) {\r\n            const item = this[i]\r\n            const target = acl[i]\r\n            if (!item.isEqual(target)) return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    /**\r\n     * Returns a JSON object without _ prefix variable name.\r\n     *\r\n     * @example\r\n     * const result = accessList.toObject()\r\n     *\r\n     * @return {Array.<module:Transaction.AccessTupleObject>} An access list object.\r\n     */\r\n    toObject() {\r\n        const accessListObject = []\r\n        for (let i = 0; i < this.length; i++) {\r\n            accessListObject.push(this[i].toObject())\r\n        }\r\n        return accessListObject\r\n    }\r\n}\r\n\r\nmodule.exports = AccessList\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}