{"ast":null,"code":"/*\r\n    Copyright 2018 The caver-js Authors\r\n    This file is part of the caver-js library.\r\n\r\n    The caver-js library is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Lesser General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    The caver-js library is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n    GNU Lesser General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Lesser General Public License\r\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\r\n*/\n\n/**\r\n * Should be called to check the parameters of transaction\r\n *\r\n * @method validateParams\r\n * @param {Object}\r\n * @return {Error}\r\n */\nvar utils = require('../../caver-utils');\n\nvar _require = require('../../caver-transaction/src/transactionHelper/transactionHelper'),\n    TX_TYPE_STRING = _require.TX_TYPE_STRING,\n    isEthereumTxType = _require.isEthereumTxType;\n\nfunction validateParams(tx) {\n  var error; // validate for fee payer transaction format\n\n  if (tx.senderRawTransaction) {\n    if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\n      error = new Error(\"Invalid fee payer: \".concat(tx.feePayer));\n    } else if (!utils.isAddress(tx.feePayer)) {\n      error = new Error(\"Invalid address of fee payer: \".concat(tx.feePayer));\n    }\n\n    return error;\n  }\n\n  var isValidateType = validateTxType(tx.type);\n\n  if (!isValidateType) {\n    return new Error(\"The transaction type [\".concat(tx.type, \"] is not supported\"));\n  }\n\n  error = validateTxObjectWithType(tx);\n\n  if (error !== undefined) {\n    return error;\n  }\n\n  if (!isEthereumTxType(tx.type) && !tx.from) {\n    error = new Error('\"from\" is missing');\n  } else if (tx.from) {\n    if (tx.from === '0x' || tx.from === '0x0000000000000000000000000000000000000000') {\n      if (!isEthereumTxType(tx.type)) {\n        error = new Error(\"Invalid address of from: \".concat(tx.from));\n      }\n    } else if (!utils.isAddress(tx.from)) {\n      error = new Error(\"Invalid address of from: \".concat(tx.from));\n    }\n  }\n\n  if (tx.gas === undefined && tx.gasLimit === undefined) {\n    error = new Error('\"gas\" is missing');\n  } else if (tx.nonce < 0 || tx.gas < 0 || tx.gasLimit < 0 || tx.gasPrice !== undefined && tx.gasPrice < 0 || tx.chainId < 0) {\n    error = new Error('gas(or gasLimit), gasPrice, nonce or chainId is lower than 0');\n  } // If feePayerSignatures is set in transaction object, feePayer also should be defined together.\n\n\n  if (tx.feePayerSignatures && !utils.isEmptySig(tx.feePayerSignatures)) {\n    if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\n      error = new Error('\"feePayer\" is missing: feePayer must be defined with feePayerSignatures.');\n    } else if (!utils.isAddress(tx.feePayer)) {\n      error = new Error(\"Invalid address of fee payer: \".concat(tx.feePayer));\n    }\n  }\n\n  return error;\n}\n/**\r\n * Should be called to check the type of transaction\r\n * Transaction type has to be checked if type is set.\r\n *\r\n * @method validateTypes\r\n * @param {string}\r\n * @return {bool}\r\n */\n\n\nfunction validateTxType(txType) {\n  if (!txType) {\n    return true;\n  }\n\n  switch (txType) {\n    case 'VALUE_TRANSFER':\n    case 'FEE_DELEGATED_VALUE_TRANSFER':\n    case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\n    case 'VALUE_TRANSFER_MEMO':\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\n    case 'ACCOUNT_UPDATE':\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE':\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\n    case 'SMART_CONTRACT_DEPLOY':\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\n    case 'SMART_CONTRACT_EXECUTION':\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\n    case 'CANCEL':\n    case 'FEE_DELEGATED_CANCEL':\n    case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\n    case 'CHAIN_DATA_ANCHORING':\n    case 'LEGACY':\n    case TX_TYPE_STRING.TxTypeValueTransfer:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\n    case TX_TYPE_STRING.TxTypeValueTransferMemo:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\n    case TX_TYPE_STRING.TxTypeAccountUpdate:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\n    case TX_TYPE_STRING.TxTypeSmartContractDeploy:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\n    case TX_TYPE_STRING.TxTypeSmartContractExecution:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\n    case TX_TYPE_STRING.TxTypeCancel:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\n    case TX_TYPE_STRING.TxTypeChainDataAnchoring:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\n    case TX_TYPE_STRING.TxTypeLegacyTransaction:\n    case TX_TYPE_STRING.TxTypeEthereumAccessList:\n    case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\n      return true;\n  }\n\n  return false;\n}\n/**\r\n * Should be called to check codeFormat\r\n *\r\n * @method validateTypes\r\n * @param {string}\r\n * @return {bool}\r\n */\n\n\nfunction validateCodeFormat(cf) {\n  if (cf === undefined) {\n    return true;\n  }\n\n  switch (cf) {\n    case 0:\n    case 'EVM':\n    case '0x':\n    case '0x0':\n      return true;\n  }\n\n  return false;\n}\n\nfunction validateTxObjectWithType(tx) {\n  if (tx.type === undefined) {\n    return validateLegacy(tx);\n  }\n\n  switch (tx.type) {\n    case 'LEGACY':\n    case TX_TYPE_STRING.TxTypeLegacyTransaction:\n      return validateLegacy(tx);\n\n    case 'VALUE_TRANSFER':\n    case TX_TYPE_STRING.TxTypeValueTransfer:\n      return validateValueTransfer(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\n      return validateFeeDelegatedValueTransfer(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\n      return validateFeeDelegatedValueTransferWithRatio(tx);\n\n    case 'VALUE_TRANSFER_MEMO':\n    case TX_TYPE_STRING.TxTypeValueTransferMemo:\n      return validateValueTransferMemo(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\n      return validateFeeDelegatedValueTransferMemo(tx);\n\n    case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\n      return validateFeeDelegatedValueTransferMemoWithRatio(tx);\n\n    case 'ACCOUNT_UPDATE':\n    case TX_TYPE_STRING.TxTypeAccountUpdate:\n      return validateAccountUpdate(tx);\n\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\n      return validateFeeDelegatedAccountUpdate(tx);\n\n    case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\n      return validateFeeDelegatedAccountUpdateWithRatio(tx);\n\n    case 'SMART_CONTRACT_DEPLOY':\n    case TX_TYPE_STRING.TxTypeSmartContractDeploy:\n      return validateSmartContractDeploy(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\n      return validateFeeDelegatedSmartContractDeploy(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\n      return validateFeeDelegatedSmartContractDeployWithRatio(tx);\n\n    case 'SMART_CONTRACT_EXECUTION':\n    case TX_TYPE_STRING.TxTypeSmartContractExecution:\n      return validateSmartContractExecution(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\n      return validateFeeDelegatedSmartContractExecution(tx);\n\n    case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\n      return validateFeeDelegatedSmartContractExecutionWithRatio(tx);\n\n    case 'CANCEL':\n    case TX_TYPE_STRING.TxTypeCancel:\n      return validateCancel(tx);\n\n    case 'FEE_DELEGATED_CANCEL':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\n      return validateFeeDelegatedCancel(tx);\n\n    case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\n    case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\n      return validateFeeDelegatedCancelWithRatio(tx);\n\n    case 'CHAIN_DATA_ANCHORING':\n    case TX_TYPE_STRING.TxTypeChainDataAnchoring:\n      return validateChainDataAnchoring(tx);\n\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\n      return validateFeeDelegatedChainDataAnchoring(tx);\n\n    case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\n      return validateFeeDelegatedChainDataAnchoringWithRatio(tx);\n\n    case TX_TYPE_STRING.TxTypeEthereumAccessList:\n      return validateEthereumAccessList(tx);\n\n    case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\n      return validateEthereumDynamicFee(tx);\n  }\n\n  return undefined;\n}\n\nfunction validateLegacy(transaction) {\n  if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n    return new Error('contract creation without any data provided');\n  }\n\n  if (transaction.to && transaction.to !== '0x' && transaction.to !== '0x0000000000000000000000000000000000000000' && !utils.isAddress(transaction.to)) {\n    return new Error(\"Invalid address of to: \".concat(transaction.to));\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  var error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateNonFeeDelegated(transaction) {\n  var type = transaction.type ? transaction.type : 'LEGACY';\n\n  if (transaction.feePayer !== undefined) {\n    return new Error(\"\\\"feePayer\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.feeRatio !== undefined) {\n    return new Error(\"\\\"feeRatio\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.feePayerSignatures !== undefined) {\n    return new Error(\"\\\"feePayerSignatures\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n}\n\nfunction validateFeeDelegated(transaction) {\n  if (transaction.type.includes('WITH_RATIO') || transaction.type.includes('WithRatio')) {\n    if (transaction.feeRatio === undefined) {\n      return new Error('\"feeRatio\" is missing');\n    }\n  } else if (transaction.feeRatio !== undefined) {\n    return new Error(\"\\\"feeRatio\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateNotAccountTransaction(transaction) {\n  var type = transaction.type ? transaction.type : 'LEGACY';\n\n  if (transaction.account !== undefined) {\n    return new Error(\"\\\"account\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.key !== undefined) {\n    return new Error(\"\\\"key\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.legacyKey !== undefined) {\n    return new Error(\"\\\"legacyKey\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.publicKey !== undefined) {\n    return new Error(\"\\\"publicKey\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.multisig !== undefined) {\n    return new Error(\"\\\"multisig\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.roleTransactionKey !== undefined) {\n    return new Error(\"\\\"roleTransactionKey\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.roleAccountUpdateKey !== undefined) {\n    return new Error(\"\\\"roleAccountUpdateKey\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.roleFeePayerKey !== undefined) {\n    return new Error(\"\\\"roleFeePayerKey\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n\n  if (transaction.failKey !== undefined) {\n    return new Error(\"\\\"failKey\\\" cannot be used with \".concat(type, \" transaction\"));\n  }\n}\n\nfunction checkValueTransferEssential(transaction) {\n  if (transaction.to === undefined) {\n    return new Error('\"to\" is missing');\n  }\n\n  if (!utils.isAddress(transaction.to)) {\n    return new Error(\"Invalid address of to: \".concat(transaction.to));\n  }\n\n  if (transaction.value === undefined) {\n    return new Error('\"value\" is missing');\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.data !== undefined) {\n    return new Error(\"\\\"data\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.input !== undefined) {\n    return new Error(\"\\\"input\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateValueTransfer(transaction) {\n  var error = checkValueTransferEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransfer(transaction) {\n  var error = checkValueTransferEssential(transaction);\n  if (error) return error;\n  error = validateFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransferWithRatio(transaction) {\n  return validateFeeDelegatedValueTransfer(transaction);\n}\n\nfunction checkValueTransferMemoEssential(transaction) {\n  if (transaction.to === undefined) {\n    return new Error('\"to\" is missing');\n  }\n\n  if (!utils.isAddress(transaction.to)) {\n    return new Error(\"Invalid address of to: \".concat(transaction.to));\n  }\n\n  if (transaction.value === undefined) {\n    return new Error('\"value\" is missing');\n  }\n\n  if (transaction.input !== undefined && transaction.data !== undefined) {\n    return new Error(\"\\\"data\\\" and \\\"input\\\" cannot be used as properties of transactions at the same time.\");\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n    return new Error('\"data\" is missing');\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateValueTransferMemo(transaction) {\n  var error = checkValueTransferMemoEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransferMemo(transaction) {\n  var error = checkValueTransferMemoEssential(transaction);\n  if (error) return error;\n  error = validateFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedValueTransferMemoWithRatio(transaction) {\n  return validateFeeDelegatedValueTransferMemo(transaction);\n}\n\nfunction validateAccountTransaction(transaction) {\n  if (transaction.data !== undefined) {\n    return new Error(\"\\\"data\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.input !== undefined) {\n    return new Error(\"\\\"input\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  } // TxTypeAccountUpdate, TxTypeFeeDelegatedAccountUpdate and TxTypeFeeDelegatedAccountUpdateWithRatio transaction use 'account' only\n\n\n  if (transaction.type.includes('TxType')) {\n    if (!transaction.account) return new Error(\"Missing account information with \".concat(transaction.type, \" transaction\"));\n\n    if (transaction.key !== undefined) {\n      return new Error(\"\\\"key\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.legacyKey !== undefined) {\n      return new Error(\"\\\"legacyKey\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.publicKey) {\n      return new Error(\"\\\"publicKey\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.multisig) {\n      return new Error(\"\\\"multisig\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.roleTransactionKey) {\n      return new Error(\"\\\"roleTransactionKey\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.roleAccountUpdateKey) {\n      return new Error(\"\\\"roleAccountUpdateKey\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.roleFeePayerKey) {\n      return new Error(\"\\\"roleFeePayerKey\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    if (transaction.failKey !== undefined) {\n      return new Error(\"\\\"failKey\\\" cannot be used with \".concat(transaction.type, \" transaction.\"));\n    }\n\n    return;\n  }\n\n  if (transaction.account) return new Error(\"\\\"account\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  var duplicatedKeyInfo = \"The key parameter to be used for \".concat(transaction.type, \" is duplicated.\");\n\n  if (!transaction.key && transaction.legacyKey === undefined && !transaction.publicKey && !transaction.multisig && !transaction.roleTransactionKey && !transaction.roleAccountUpdateKey && !transaction.roleFeePayerKey && transaction.failKey === undefined) {\n    return new Error(\"Missing key information with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.key) {\n    if (transaction.legacyKey !== undefined || transaction.publicKey || transaction.multisig || transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.legacyKey !== undefined) {\n    if (transaction.publicKey || transaction.multisig || transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.publicKey) {\n    if (transaction.multisig || transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.multisig) {\n    if (transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey || transaction.failKey !== undefined) {\n      return new Error(duplicatedKeyInfo);\n    }\n  } else if (transaction.failKey !== undefined) {\n    if (transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey) {\n      return new Error(duplicatedKeyInfo);\n    }\n  }\n}\n\nfunction checkUpdateEssential(transaction) {\n  if (transaction.to !== undefined) {\n    return new Error(\"\\\"to\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.value !== undefined) {\n    return new Error(\"\\\"value\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateAccountUpdate(transaction) {\n  var error = checkUpdateEssential(transaction);\n  if (error) return error;\n  error = validateAccountTransaction(transaction);\n  if (error) return error;\n  return validateNonFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedAccountUpdate(transaction) {\n  var error = checkUpdateEssential(transaction);\n  if (error) return error;\n  error = validateAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedAccountUpdateWithRatio(transaction) {\n  return validateFeeDelegatedAccountUpdate(transaction);\n}\n\nfunction checkDeployEssential(transaction) {\n  if (transaction.value === undefined && !transaction.type.includes('TxType')) {\n    return new Error('\"value\" is missing');\n  }\n\n  if (transaction.input !== undefined && transaction.data !== undefined && !transaction.type.includes('TxType')) {\n    return new Error(\"\\\"data\\\" and \\\"input\\\" cannot be used as properties of transactions at the same time.\");\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n    return new Error('\"data\" is missing');\n  } // To handle null in `to` field\n\n\n  if (transaction.to && transaction.to !== '0x') {\n    return new Error(\"\\\"to\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.codeFormat !== undefined && !validateCodeFormat(transaction.codeFormat)) {\n    return new Error(\"The codeFormat(\".concat(transaction.codeFormat, \") is invalid.\"));\n  }\n\n  if (transaction.humanReadable !== undefined && transaction.humanReadable === true) {\n    return new Error('HumanReadableAddress is not supported yet.');\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateSmartContractDeploy(transaction) {\n  var error = checkDeployEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractDeploy(transaction) {\n  var error = checkDeployEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractDeployWithRatio(transaction) {\n  return validateFeeDelegatedSmartContractDeploy(transaction);\n}\n\nfunction checkExecutionEssential(transaction) {\n  if (transaction.to === undefined) {\n    return new Error('\"to\" is missing');\n  }\n\n  if (!utils.isAddress(transaction.to)) {\n    return new Error(\"Invalid address of to: \".concat(transaction.to));\n  }\n\n  if (transaction.input !== undefined && transaction.data !== undefined) {\n    return new Error(\"\\\"data\\\" and \\\"input\\\" cannot be used as properties of transactions at the same time.\");\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n    return new Error('\"data\" is missing');\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateSmartContractExecution(transaction) {\n  var error = checkExecutionEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractExecution(transaction) {\n  var error = checkExecutionEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedSmartContractExecutionWithRatio(transaction) {\n  return validateFeeDelegatedSmartContractExecution(transaction);\n}\n\nfunction checkCacncelEssential(transaction) {\n  if (transaction.to !== undefined) {\n    return new Error(\"\\\"to\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.value !== undefined) {\n    return new Error(\"\\\"value\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.data !== undefined) {\n    return new Error(\"\\\"data\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.input !== undefined) {\n    return new Error(\"\\\"input\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateCancel(transaction) {\n  var error = checkCacncelEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedCancel(transaction) {\n  var error = checkCacncelEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedCancelWithRatio(transaction) {\n  return validateFeeDelegatedCancel(transaction);\n}\n\nfunction checkChainDataAnchoringEssential(transaction) {\n  if (transaction.input !== undefined && transaction.data !== undefined) {\n    return new Error(\"\\\"data\\\" and \\\"input\\\" cannot be used as properties of transactions at the same time.\");\n  }\n\n  if (transaction.input === undefined && transaction.data === undefined) {\n    if (transaction.anchoredData !== undefined) {\n      transaction.data = transaction.anchoredData;\n      delete transaction.anchoredData;\n    } else {\n      if (transaction.type.includes('TxType')) return new Error('\"input\" is missing');\n      return new Error('\"data\" is missing');\n    }\n  }\n\n  if (transaction.value !== undefined) {\n    return new Error(\"\\\"value\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.to !== undefined) {\n    return new Error(\"\\\"to\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.accessList !== undefined) {\n    return new Error(\"\\\"accessList\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n}\n\nfunction validateChainDataAnchoring(transaction) {\n  var error = checkChainDataAnchoringEssential(transaction);\n  if (error) return error;\n  error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateFeeDelegatedChainDataAnchoring(transaction) {\n  var error = checkChainDataAnchoringEssential(transaction);\n  if (error) return error;\n  error = validateNotAccountTransaction(transaction);\n  if (error) return error;\n  return validateFeeDelegated(transaction);\n}\n\nfunction validateFeeDelegatedChainDataAnchoringWithRatio(transaction) {\n  return validateFeeDelegatedChainDataAnchoring(transaction);\n}\n\nfunction validateEthereumAccessList(transaction) {\n  if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n    return new Error('contract creation without any data provided');\n  }\n\n  if (transaction.to && transaction.to !== '0x' && transaction.to !== '0x0000000000000000000000000000000000000000' && !utils.isAddress(transaction.to)) {\n    return new Error(\"Invalid address of to: \".concat(transaction.to));\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxPriorityFeePerGas !== undefined) {\n    return new Error(\"\\\"maxPriorityFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.maxFeePerGas !== undefined) {\n    return new Error(\"\\\"maxFeePerGas\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  var error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nfunction validateEthereumDynamicFee(transaction) {\n  if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\n    return new Error('contract creation without any data provided');\n  }\n\n  if (transaction.to && transaction.to !== '0x' && transaction.to !== '0x0000000000000000000000000000000000000000' && !utils.isAddress(transaction.to)) {\n    return new Error(\"Invalid address of to: \".concat(transaction.to));\n  }\n\n  if (transaction.codeFormat !== undefined) {\n    return new Error(\"\\\"codeFormat\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.humanReadable !== undefined) {\n    return new Error(\"\\\"humanReadable\\\" cannot be used with \".concat(transaction.type, \" transaction\"));\n  }\n\n  if (transaction.gasPrice !== undefined) {\n    return new Error(\"\\\"gasPrice\\\" cannot be used with \".concat(transaction.type, \" transaction. Please use the maxPriorityFeePerGas and maxFeePerGas.\"));\n  }\n\n  var error = validateNonFeeDelegated(transaction);\n  if (error) return error;\n  return validateNotAccountTransaction(transaction);\n}\n\nmodule.exports = {\n  validateParams: validateParams,\n  validateTxType: validateTxType,\n  validateCodeFormat: validateCodeFormat\n};","map":{"version":3,"names":["utils","require","TX_TYPE_STRING","isEthereumTxType","validateParams","tx","error","senderRawTransaction","feePayer","Error","isAddress","isValidateType","validateTxType","type","validateTxObjectWithType","undefined","from","gas","gasLimit","nonce","gasPrice","chainId","feePayerSignatures","isEmptySig","txType","TxTypeValueTransfer","TxTypeFeeDelegatedValueTransfer","TxTypeFeeDelegatedValueTransferWithRatio","TxTypeValueTransferMemo","TxTypeFeeDelegatedValueTransferMemo","TxTypeFeeDelegatedValueTransferMemoWithRatio","TxTypeAccountUpdate","TxTypeFeeDelegatedAccountUpdate","TxTypeFeeDelegatedAccountUpdateWithRatio","TxTypeSmartContractDeploy","TxTypeFeeDelegatedSmartContractDeploy","TxTypeFeeDelegatedSmartContractDeployWithRatio","TxTypeSmartContractExecution","TxTypeFeeDelegatedSmartContractExecution","TxTypeFeeDelegatedSmartContractExecutionWithRatio","TxTypeCancel","TxTypeFeeDelegatedCancel","TxTypeFeeDelegatedCancelWithRatio","TxTypeChainDataAnchoring","TxTypeFeeDelegatedChainDataAnchoring","TxTypeFeeDelegatedChainDataAnchoringWithRatio","TxTypeLegacyTransaction","TxTypeEthereumAccessList","TxTypeEthereumDynamicFee","validateCodeFormat","cf","validateLegacy","validateValueTransfer","validateFeeDelegatedValueTransfer","validateFeeDelegatedValueTransferWithRatio","validateValueTransferMemo","validateFeeDelegatedValueTransferMemo","validateFeeDelegatedValueTransferMemoWithRatio","validateAccountUpdate","validateFeeDelegatedAccountUpdate","validateFeeDelegatedAccountUpdateWithRatio","validateSmartContractDeploy","validateFeeDelegatedSmartContractDeploy","validateFeeDelegatedSmartContractDeployWithRatio","validateSmartContractExecution","validateFeeDelegatedSmartContractExecution","validateFeeDelegatedSmartContractExecutionWithRatio","validateCancel","validateFeeDelegatedCancel","validateFeeDelegatedCancelWithRatio","validateChainDataAnchoring","validateFeeDelegatedChainDataAnchoring","validateFeeDelegatedChainDataAnchoringWithRatio","validateEthereumAccessList","validateEthereumDynamicFee","transaction","to","data","input","codeFormat","humanReadable","accessList","maxPriorityFeePerGas","maxFeePerGas","validateNonFeeDelegated","validateNotAccountTransaction","feeRatio","validateFeeDelegated","includes","account","key","legacyKey","publicKey","multisig","roleTransactionKey","roleAccountUpdateKey","roleFeePayerKey","failKey","checkValueTransferEssential","value","checkValueTransferMemoEssential","validateAccountTransaction","duplicatedKeyInfo","checkUpdateEssential","checkDeployEssential","checkExecutionEssential","checkCacncelEssential","checkChainDataAnchoringEssential","anchoredData","module","exports"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/node_modules/caver-js/packages/caver-core-helpers/src/validateFunction.js"],"sourcesContent":["/*\r\n    Copyright 2018 The caver-js Authors\r\n    This file is part of the caver-js library.\r\n\r\n    The caver-js library is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Lesser General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    The caver-js library is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n    GNU Lesser General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Lesser General Public License\r\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Should be called to check the parameters of transaction\r\n *\r\n * @method validateParams\r\n * @param {Object}\r\n * @return {Error}\r\n */\r\n\r\nconst utils = require('../../caver-utils')\r\nconst { TX_TYPE_STRING, isEthereumTxType } = require('../../caver-transaction/src/transactionHelper/transactionHelper')\r\n\r\nfunction validateParams(tx) {\r\n    let error\r\n\r\n    // validate for fee payer transaction format\r\n    if (tx.senderRawTransaction) {\r\n        if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\r\n            error = new Error(`Invalid fee payer: ${tx.feePayer}`)\r\n        } else if (!utils.isAddress(tx.feePayer)) {\r\n            error = new Error(`Invalid address of fee payer: ${tx.feePayer}`)\r\n        }\r\n        return error\r\n    }\r\n\r\n    const isValidateType = validateTxType(tx.type)\r\n    if (!isValidateType) {\r\n        return new Error(`The transaction type [${tx.type}] is not supported`)\r\n    }\r\n\r\n    error = validateTxObjectWithType(tx)\r\n    if (error !== undefined) {\r\n        return error\r\n    }\r\n\r\n    if (!isEthereumTxType(tx.type) && !tx.from) {\r\n        error = new Error('\"from\" is missing')\r\n    } else if (tx.from) {\r\n        if (tx.from === '0x' || tx.from === '0x0000000000000000000000000000000000000000') {\r\n            if (!isEthereumTxType(tx.type)) {\r\n                error = new Error(`Invalid address of from: ${tx.from}`)\r\n            }\r\n        } else if (!utils.isAddress(tx.from)) {\r\n            error = new Error(`Invalid address of from: ${tx.from}`)\r\n        }\r\n    }\r\n\r\n    if (tx.gas === undefined && tx.gasLimit === undefined) {\r\n        error = new Error('\"gas\" is missing')\r\n    } else if (tx.nonce < 0 || tx.gas < 0 || tx.gasLimit < 0 || (tx.gasPrice !== undefined && tx.gasPrice < 0) || tx.chainId < 0) {\r\n        error = new Error('gas(or gasLimit), gasPrice, nonce or chainId is lower than 0')\r\n    }\r\n\r\n    // If feePayerSignatures is set in transaction object, feePayer also should be defined together.\r\n    if (tx.feePayerSignatures && !utils.isEmptySig(tx.feePayerSignatures)) {\r\n        if (!tx.feePayer || tx.feePayer === '0x' || tx.feePayer === '0x0000000000000000000000000000000000000000') {\r\n            error = new Error('\"feePayer\" is missing: feePayer must be defined with feePayerSignatures.')\r\n        } else if (!utils.isAddress(tx.feePayer)) {\r\n            error = new Error(`Invalid address of fee payer: ${tx.feePayer}`)\r\n        }\r\n    }\r\n\r\n    return error\r\n}\r\n\r\n/**\r\n * Should be called to check the type of transaction\r\n * Transaction type has to be checked if type is set.\r\n *\r\n * @method validateTypes\r\n * @param {string}\r\n * @return {bool}\r\n */\r\nfunction validateTxType(txType) {\r\n    if (!txType) {\r\n        return true\r\n    }\r\n    switch (txType) {\r\n        case 'VALUE_TRANSFER':\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER':\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\r\n        case 'VALUE_TRANSFER_MEMO':\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\r\n        case 'ACCOUNT_UPDATE':\r\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE':\r\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\r\n        case 'SMART_CONTRACT_DEPLOY':\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\r\n        case 'SMART_CONTRACT_EXECUTION':\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\r\n        case 'CANCEL':\r\n        case 'FEE_DELEGATED_CANCEL':\r\n        case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\r\n        case 'CHAIN_DATA_ANCHORING':\r\n        case 'LEGACY':\r\n        case TX_TYPE_STRING.TxTypeValueTransfer:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\r\n        case TX_TYPE_STRING.TxTypeValueTransferMemo:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\r\n        case TX_TYPE_STRING.TxTypeAccountUpdate:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\r\n        case TX_TYPE_STRING.TxTypeSmartContractDeploy:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\r\n        case TX_TYPE_STRING.TxTypeSmartContractExecution:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\r\n        case TX_TYPE_STRING.TxTypeCancel:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\r\n        case TX_TYPE_STRING.TxTypeChainDataAnchoring:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\r\n        case TX_TYPE_STRING.TxTypeLegacyTransaction:\r\n        case TX_TYPE_STRING.TxTypeEthereumAccessList:\r\n        case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\r\n            return true\r\n    }\r\n    return false\r\n}\r\n\r\n/**\r\n * Should be called to check codeFormat\r\n *\r\n * @method validateTypes\r\n * @param {string}\r\n * @return {bool}\r\n */\r\nfunction validateCodeFormat(cf) {\r\n    if (cf === undefined) {\r\n        return true\r\n    }\r\n\r\n    switch (cf) {\r\n        case 0:\r\n        case 'EVM':\r\n        case '0x':\r\n        case '0x0':\r\n            return true\r\n    }\r\n    return false\r\n}\r\n\r\nfunction validateTxObjectWithType(tx) {\r\n    if (tx.type === undefined) {\r\n        return validateLegacy(tx)\r\n    }\r\n    switch (tx.type) {\r\n        case 'LEGACY':\r\n        case TX_TYPE_STRING.TxTypeLegacyTransaction:\r\n            return validateLegacy(tx)\r\n        case 'VALUE_TRANSFER':\r\n        case TX_TYPE_STRING.TxTypeValueTransfer:\r\n            return validateValueTransfer(tx)\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransfer:\r\n            return validateFeeDelegatedValueTransfer(tx)\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferWithRatio:\r\n            return validateFeeDelegatedValueTransferWithRatio(tx)\r\n        case 'VALUE_TRANSFER_MEMO':\r\n        case TX_TYPE_STRING.TxTypeValueTransferMemo:\r\n            return validateValueTransferMemo(tx)\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemo:\r\n            return validateFeeDelegatedValueTransferMemo(tx)\r\n        case 'FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedValueTransferMemoWithRatio:\r\n            return validateFeeDelegatedValueTransferMemoWithRatio(tx)\r\n        case 'ACCOUNT_UPDATE':\r\n        case TX_TYPE_STRING.TxTypeAccountUpdate:\r\n            return validateAccountUpdate(tx)\r\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdate:\r\n            return validateFeeDelegatedAccountUpdate(tx)\r\n        case 'FEE_DELEGATED_ACCOUNT_UPDATE_WITH_RATIO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedAccountUpdateWithRatio:\r\n            return validateFeeDelegatedAccountUpdateWithRatio(tx)\r\n        case 'SMART_CONTRACT_DEPLOY':\r\n        case TX_TYPE_STRING.TxTypeSmartContractDeploy:\r\n            return validateSmartContractDeploy(tx)\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeploy:\r\n            return validateFeeDelegatedSmartContractDeploy(tx)\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractDeployWithRatio:\r\n            return validateFeeDelegatedSmartContractDeployWithRatio(tx)\r\n        case 'SMART_CONTRACT_EXECUTION':\r\n        case TX_TYPE_STRING.TxTypeSmartContractExecution:\r\n            return validateSmartContractExecution(tx)\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecution:\r\n            return validateFeeDelegatedSmartContractExecution(tx)\r\n        case 'FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedSmartContractExecutionWithRatio:\r\n            return validateFeeDelegatedSmartContractExecutionWithRatio(tx)\r\n        case 'CANCEL':\r\n        case TX_TYPE_STRING.TxTypeCancel:\r\n            return validateCancel(tx)\r\n        case 'FEE_DELEGATED_CANCEL':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancel:\r\n            return validateFeeDelegatedCancel(tx)\r\n        case 'FEE_DELEGATED_CANCEL_WITH_RATIO':\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedCancelWithRatio:\r\n            return validateFeeDelegatedCancelWithRatio(tx)\r\n        case 'CHAIN_DATA_ANCHORING':\r\n        case TX_TYPE_STRING.TxTypeChainDataAnchoring:\r\n            return validateChainDataAnchoring(tx)\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoring:\r\n            return validateFeeDelegatedChainDataAnchoring(tx)\r\n        case TX_TYPE_STRING.TxTypeFeeDelegatedChainDataAnchoringWithRatio:\r\n            return validateFeeDelegatedChainDataAnchoringWithRatio(tx)\r\n        case TX_TYPE_STRING.TxTypeEthereumAccessList:\r\n            return validateEthereumAccessList(tx)\r\n        case TX_TYPE_STRING.TxTypeEthereumDynamicFee:\r\n            return validateEthereumDynamicFee(tx)\r\n    }\r\n    return undefined\r\n}\r\n\r\nfunction validateLegacy(transaction) {\r\n    if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\r\n        return new Error('contract creation without any data provided')\r\n    }\r\n\r\n    if (\r\n        transaction.to &&\r\n        transaction.to !== '0x' &&\r\n        transaction.to !== '0x0000000000000000000000000000000000000000' &&\r\n        !utils.isAddress(transaction.to)\r\n    ) {\r\n        return new Error(`Invalid address of to: ${transaction.to}`)\r\n    }\r\n\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    const error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateNonFeeDelegated(transaction) {\r\n    const type = transaction.type ? transaction.type : 'LEGACY'\r\n    if (transaction.feePayer !== undefined) {\r\n        return new Error(`\"feePayer\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.feeRatio !== undefined) {\r\n        return new Error(`\"feeRatio\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.feePayerSignatures !== undefined) {\r\n        return new Error(`\"feePayerSignatures\" cannot be used with ${type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateFeeDelegated(transaction) {\r\n    if (transaction.type.includes('WITH_RATIO') || transaction.type.includes('WithRatio')) {\r\n        if (transaction.feeRatio === undefined) {\r\n            return new Error('\"feeRatio\" is missing')\r\n        }\r\n    } else if (transaction.feeRatio !== undefined) {\r\n        return new Error(`\"feeRatio\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateNotAccountTransaction(transaction) {\r\n    const type = transaction.type ? transaction.type : 'LEGACY'\r\n    if (transaction.account !== undefined) {\r\n        return new Error(`\"account\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.key !== undefined) {\r\n        return new Error(`\"key\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.legacyKey !== undefined) {\r\n        return new Error(`\"legacyKey\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.publicKey !== undefined) {\r\n        return new Error(`\"publicKey\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.multisig !== undefined) {\r\n        return new Error(`\"multisig\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.roleTransactionKey !== undefined) {\r\n        return new Error(`\"roleTransactionKey\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.roleAccountUpdateKey !== undefined) {\r\n        return new Error(`\"roleAccountUpdateKey\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.roleFeePayerKey !== undefined) {\r\n        return new Error(`\"roleFeePayerKey\" cannot be used with ${type} transaction`)\r\n    }\r\n    if (transaction.failKey !== undefined) {\r\n        return new Error(`\"failKey\" cannot be used with ${type} transaction`)\r\n    }\r\n}\r\n\r\nfunction checkValueTransferEssential(transaction) {\r\n    if (transaction.to === undefined) {\r\n        return new Error('\"to\" is missing')\r\n    }\r\n    if (!utils.isAddress(transaction.to)) {\r\n        return new Error(`Invalid address of to: ${transaction.to}`)\r\n    }\r\n    if (transaction.value === undefined) {\r\n        return new Error('\"value\" is missing')\r\n    }\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.data !== undefined) {\r\n        return new Error(`\"data\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.input !== undefined) {\r\n        return new Error(`\"input\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateValueTransfer(transaction) {\r\n    let error = checkValueTransferEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedValueTransfer(transaction) {\r\n    let error = checkValueTransferEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedValueTransferWithRatio(transaction) {\r\n    return validateFeeDelegatedValueTransfer(transaction)\r\n}\r\n\r\nfunction checkValueTransferMemoEssential(transaction) {\r\n    if (transaction.to === undefined) {\r\n        return new Error('\"to\" is missing')\r\n    }\r\n    if (!utils.isAddress(transaction.to)) {\r\n        return new Error(`Invalid address of to: ${transaction.to}`)\r\n    }\r\n    if (transaction.value === undefined) {\r\n        return new Error('\"value\" is missing')\r\n    }\r\n\r\n    if (transaction.input !== undefined && transaction.data !== undefined) {\r\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\r\n    }\r\n    if (transaction.input === undefined && transaction.data === undefined) {\r\n        if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\r\n        return new Error('\"data\" is missing')\r\n    }\r\n\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateValueTransferMemo(transaction) {\r\n    let error = checkValueTransferMemoEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedValueTransferMemo(transaction) {\r\n    let error = checkValueTransferMemoEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedValueTransferMemoWithRatio(transaction) {\r\n    return validateFeeDelegatedValueTransferMemo(transaction)\r\n}\r\n\r\nfunction validateAccountTransaction(transaction) {\r\n    if (transaction.data !== undefined) {\r\n        return new Error(`\"data\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.input !== undefined) {\r\n        return new Error(`\"input\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    // TxTypeAccountUpdate, TxTypeFeeDelegatedAccountUpdate and TxTypeFeeDelegatedAccountUpdateWithRatio transaction use 'account' only\r\n    if (transaction.type.includes('TxType')) {\r\n        if (!transaction.account) return new Error(`Missing account information with ${transaction.type} transaction`)\r\n\r\n        if (transaction.key !== undefined) {\r\n            return new Error(`\"key\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.legacyKey !== undefined) {\r\n            return new Error(`\"legacyKey\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.publicKey) {\r\n            return new Error(`\"publicKey\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.multisig) {\r\n            return new Error(`\"multisig\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.roleTransactionKey) {\r\n            return new Error(`\"roleTransactionKey\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.roleAccountUpdateKey) {\r\n            return new Error(`\"roleAccountUpdateKey\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.roleFeePayerKey) {\r\n            return new Error(`\"roleFeePayerKey\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n        if (transaction.failKey !== undefined) {\r\n            return new Error(`\"failKey\" cannot be used with ${transaction.type} transaction.`)\r\n        }\r\n\r\n        return\r\n    }\r\n\r\n    if (transaction.account) return new Error(`\"account\" cannot be used with ${transaction.type} transaction`)\r\n\r\n    const duplicatedKeyInfo = `The key parameter to be used for ${transaction.type} is duplicated.`\r\n    if (\r\n        !transaction.key &&\r\n        transaction.legacyKey === undefined &&\r\n        !transaction.publicKey &&\r\n        !transaction.multisig &&\r\n        !transaction.roleTransactionKey &&\r\n        !transaction.roleAccountUpdateKey &&\r\n        !transaction.roleFeePayerKey &&\r\n        transaction.failKey === undefined\r\n    ) {\r\n        return new Error(`Missing key information with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.key) {\r\n        if (\r\n            transaction.legacyKey !== undefined ||\r\n            transaction.publicKey ||\r\n            transaction.multisig ||\r\n            transaction.roleTransactionKey ||\r\n            transaction.roleAccountUpdateKey ||\r\n            transaction.roleFeePayerKey ||\r\n            transaction.failKey !== undefined\r\n        ) {\r\n            return new Error(duplicatedKeyInfo)\r\n        }\r\n    } else if (transaction.legacyKey !== undefined) {\r\n        if (\r\n            transaction.publicKey ||\r\n            transaction.multisig ||\r\n            transaction.roleTransactionKey ||\r\n            transaction.roleAccountUpdateKey ||\r\n            transaction.roleFeePayerKey ||\r\n            transaction.failKey !== undefined\r\n        ) {\r\n            return new Error(duplicatedKeyInfo)\r\n        }\r\n    } else if (transaction.publicKey) {\r\n        if (\r\n            transaction.multisig ||\r\n            transaction.roleTransactionKey ||\r\n            transaction.roleAccountUpdateKey ||\r\n            transaction.roleFeePayerKey ||\r\n            transaction.failKey !== undefined\r\n        ) {\r\n            return new Error(duplicatedKeyInfo)\r\n        }\r\n    } else if (transaction.multisig) {\r\n        if (\r\n            transaction.roleTransactionKey ||\r\n            transaction.roleAccountUpdateKey ||\r\n            transaction.roleFeePayerKey ||\r\n            transaction.failKey !== undefined\r\n        ) {\r\n            return new Error(duplicatedKeyInfo)\r\n        }\r\n    } else if (transaction.failKey !== undefined) {\r\n        if (transaction.roleTransactionKey || transaction.roleAccountUpdateKey || transaction.roleFeePayerKey) {\r\n            return new Error(duplicatedKeyInfo)\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkUpdateEssential(transaction) {\r\n    if (transaction.to !== undefined) {\r\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.value !== undefined) {\r\n        return new Error(`\"value\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateAccountUpdate(transaction) {\r\n    let error = checkUpdateEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateAccountTransaction(transaction)\r\n    if (error) return error\r\n\r\n    return validateNonFeeDelegated(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedAccountUpdate(transaction) {\r\n    let error = checkUpdateEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateAccountTransaction(transaction)\r\n    if (error) return error\r\n\r\n    return validateFeeDelegated(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedAccountUpdateWithRatio(transaction) {\r\n    return validateFeeDelegatedAccountUpdate(transaction)\r\n}\r\n\r\nfunction checkDeployEssential(transaction) {\r\n    if (transaction.value === undefined && !transaction.type.includes('TxType')) {\r\n        return new Error('\"value\" is missing')\r\n    }\r\n\r\n    if (transaction.input !== undefined && transaction.data !== undefined && !transaction.type.includes('TxType')) {\r\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\r\n    }\r\n    if (transaction.input === undefined && transaction.data === undefined) {\r\n        if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\r\n        return new Error('\"data\" is missing')\r\n    }\r\n\r\n    // To handle null in `to` field\r\n    if (transaction.to && transaction.to !== '0x') {\r\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.codeFormat !== undefined && !validateCodeFormat(transaction.codeFormat)) {\r\n        return new Error(`The codeFormat(${transaction.codeFormat}) is invalid.`)\r\n    }\r\n    if (transaction.humanReadable !== undefined && transaction.humanReadable === true) {\r\n        return new Error('HumanReadableAddress is not supported yet.')\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateSmartContractDeploy(transaction) {\r\n    let error = checkDeployEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedSmartContractDeploy(transaction) {\r\n    let error = checkDeployEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNotAccountTransaction(transaction)\r\n    if (error) return error\r\n\r\n    return validateFeeDelegated(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedSmartContractDeployWithRatio(transaction) {\r\n    return validateFeeDelegatedSmartContractDeploy(transaction)\r\n}\r\n\r\nfunction checkExecutionEssential(transaction) {\r\n    if (transaction.to === undefined) {\r\n        return new Error('\"to\" is missing')\r\n    }\r\n    if (!utils.isAddress(transaction.to)) {\r\n        return new Error(`Invalid address of to: ${transaction.to}`)\r\n    }\r\n\r\n    if (transaction.input !== undefined && transaction.data !== undefined) {\r\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\r\n    }\r\n    if (transaction.input === undefined && transaction.data === undefined) {\r\n        if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\r\n        return new Error('\"data\" is missing')\r\n    }\r\n\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateSmartContractExecution(transaction) {\r\n    let error = checkExecutionEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedSmartContractExecution(transaction) {\r\n    let error = checkExecutionEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNotAccountTransaction(transaction)\r\n    if (error) return error\r\n\r\n    return validateFeeDelegated(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedSmartContractExecutionWithRatio(transaction) {\r\n    return validateFeeDelegatedSmartContractExecution(transaction)\r\n}\r\n\r\nfunction checkCacncelEssential(transaction) {\r\n    if (transaction.to !== undefined) {\r\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.value !== undefined) {\r\n        return new Error(`\"value\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.data !== undefined) {\r\n        return new Error(`\"data\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.input !== undefined) {\r\n        return new Error(`\"input\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateCancel(transaction) {\r\n    let error = checkCacncelEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedCancel(transaction) {\r\n    let error = checkCacncelEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNotAccountTransaction(transaction)\r\n    if (error) return error\r\n\r\n    return validateFeeDelegated(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedCancelWithRatio(transaction) {\r\n    return validateFeeDelegatedCancel(transaction)\r\n}\r\n\r\nfunction checkChainDataAnchoringEssential(transaction) {\r\n    if (transaction.input !== undefined && transaction.data !== undefined) {\r\n        return new Error(`\"data\" and \"input\" cannot be used as properties of transactions at the same time.`)\r\n    }\r\n    if (transaction.input === undefined && transaction.data === undefined) {\r\n        if (transaction.anchoredData !== undefined) {\r\n            transaction.data = transaction.anchoredData\r\n            delete transaction.anchoredData\r\n        } else {\r\n            if (transaction.type.includes('TxType')) return new Error('\"input\" is missing')\r\n            return new Error('\"data\" is missing')\r\n        }\r\n    }\r\n\r\n    if (transaction.value !== undefined) {\r\n        return new Error(`\"value\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.to !== undefined) {\r\n        return new Error(`\"to\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.accessList !== undefined) {\r\n        return new Error(`\"accessList\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n}\r\n\r\nfunction validateChainDataAnchoring(transaction) {\r\n    let error = checkChainDataAnchoringEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedChainDataAnchoring(transaction) {\r\n    let error = checkChainDataAnchoringEssential(transaction)\r\n    if (error) return error\r\n\r\n    error = validateNotAccountTransaction(transaction)\r\n    if (error) return error\r\n\r\n    return validateFeeDelegated(transaction)\r\n}\r\n\r\nfunction validateFeeDelegatedChainDataAnchoringWithRatio(transaction) {\r\n    return validateFeeDelegatedChainDataAnchoring(transaction)\r\n}\r\n\r\nfunction validateEthereumAccessList(transaction) {\r\n    if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\r\n        return new Error('contract creation without any data provided')\r\n    }\r\n\r\n    if (\r\n        transaction.to &&\r\n        transaction.to !== '0x' &&\r\n        transaction.to !== '0x0000000000000000000000000000000000000000' &&\r\n        !utils.isAddress(transaction.to)\r\n    ) {\r\n        return new Error(`Invalid address of to: ${transaction.to}`)\r\n    }\r\n\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.maxPriorityFeePerGas !== undefined) {\r\n        return new Error(`\"maxPriorityFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.maxFeePerGas !== undefined) {\r\n        return new Error(`\"maxFeePerGas\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    const error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nfunction validateEthereumDynamicFee(transaction) {\r\n    if (transaction.to === undefined && transaction.data === undefined && transaction.input === undefined) {\r\n        return new Error('contract creation without any data provided')\r\n    }\r\n\r\n    if (\r\n        transaction.to &&\r\n        transaction.to !== '0x' &&\r\n        transaction.to !== '0x0000000000000000000000000000000000000000' &&\r\n        !utils.isAddress(transaction.to)\r\n    ) {\r\n        return new Error(`Invalid address of to: ${transaction.to}`)\r\n    }\r\n\r\n    if (transaction.codeFormat !== undefined) {\r\n        return new Error(`\"codeFormat\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.humanReadable !== undefined) {\r\n        return new Error(`\"humanReadable\" cannot be used with ${transaction.type} transaction`)\r\n    }\r\n\r\n    if (transaction.gasPrice !== undefined) {\r\n        return new Error(\r\n            `\"gasPrice\" cannot be used with ${transaction.type} transaction. Please use the maxPriorityFeePerGas and maxFeePerGas.`\r\n        )\r\n    }\r\n\r\n    const error = validateNonFeeDelegated(transaction)\r\n    if (error) return error\r\n\r\n    return validateNotAccountTransaction(transaction)\r\n}\r\n\r\nmodule.exports = {\r\n    validateParams,\r\n    validateTxType,\r\n    validateCodeFormat,\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMA,KAAK,GAAGC,OAAO,CAAC,mBAAD,CAArB;;AACA,eAA6CA,OAAO,CAAC,iEAAD,CAApD;AAAA,IAAQC,cAAR,YAAQA,cAAR;AAAA,IAAwBC,gBAAxB,YAAwBA,gBAAxB;;AAEA,SAASC,cAAT,CAAwBC,EAAxB,EAA4B;EACxB,IAAIC,KAAJ,CADwB,CAGxB;;EACA,IAAID,EAAE,CAACE,oBAAP,EAA6B;IACzB,IAAI,CAACF,EAAE,CAACG,QAAJ,IAAgBH,EAAE,CAACG,QAAH,KAAgB,IAAhC,IAAwCH,EAAE,CAACG,QAAH,KAAgB,4CAA5D,EAA0G;MACtGF,KAAK,GAAG,IAAIG,KAAJ,8BAAgCJ,EAAE,CAACG,QAAnC,EAAR;IACH,CAFD,MAEO,IAAI,CAACR,KAAK,CAACU,SAAN,CAAgBL,EAAE,CAACG,QAAnB,CAAL,EAAmC;MACtCF,KAAK,GAAG,IAAIG,KAAJ,yCAA2CJ,EAAE,CAACG,QAA9C,EAAR;IACH;;IACD,OAAOF,KAAP;EACH;;EAED,IAAMK,cAAc,GAAGC,cAAc,CAACP,EAAE,CAACQ,IAAJ,CAArC;;EACA,IAAI,CAACF,cAAL,EAAqB;IACjB,OAAO,IAAIF,KAAJ,iCAAmCJ,EAAE,CAACQ,IAAtC,wBAAP;EACH;;EAEDP,KAAK,GAAGQ,wBAAwB,CAACT,EAAD,CAAhC;;EACA,IAAIC,KAAK,KAAKS,SAAd,EAAyB;IACrB,OAAOT,KAAP;EACH;;EAED,IAAI,CAACH,gBAAgB,CAACE,EAAE,CAACQ,IAAJ,CAAjB,IAA8B,CAACR,EAAE,CAACW,IAAtC,EAA4C;IACxCV,KAAK,GAAG,IAAIG,KAAJ,CAAU,mBAAV,CAAR;EACH,CAFD,MAEO,IAAIJ,EAAE,CAACW,IAAP,EAAa;IAChB,IAAIX,EAAE,CAACW,IAAH,KAAY,IAAZ,IAAoBX,EAAE,CAACW,IAAH,KAAY,4CAApC,EAAkF;MAC9E,IAAI,CAACb,gBAAgB,CAACE,EAAE,CAACQ,IAAJ,CAArB,EAAgC;QAC5BP,KAAK,GAAG,IAAIG,KAAJ,oCAAsCJ,EAAE,CAACW,IAAzC,EAAR;MACH;IACJ,CAJD,MAIO,IAAI,CAAChB,KAAK,CAACU,SAAN,CAAgBL,EAAE,CAACW,IAAnB,CAAL,EAA+B;MAClCV,KAAK,GAAG,IAAIG,KAAJ,oCAAsCJ,EAAE,CAACW,IAAzC,EAAR;IACH;EACJ;;EAED,IAAIX,EAAE,CAACY,GAAH,KAAWF,SAAX,IAAwBV,EAAE,CAACa,QAAH,KAAgBH,SAA5C,EAAuD;IACnDT,KAAK,GAAG,IAAIG,KAAJ,CAAU,kBAAV,CAAR;EACH,CAFD,MAEO,IAAIJ,EAAE,CAACc,KAAH,GAAW,CAAX,IAAgBd,EAAE,CAACY,GAAH,GAAS,CAAzB,IAA8BZ,EAAE,CAACa,QAAH,GAAc,CAA5C,IAAkDb,EAAE,CAACe,QAAH,KAAgBL,SAAhB,IAA6BV,EAAE,CAACe,QAAH,GAAc,CAA7F,IAAmGf,EAAE,CAACgB,OAAH,GAAa,CAApH,EAAuH;IAC1Hf,KAAK,GAAG,IAAIG,KAAJ,CAAU,8DAAV,CAAR;EACH,CAvCuB,CAyCxB;;;EACA,IAAIJ,EAAE,CAACiB,kBAAH,IAAyB,CAACtB,KAAK,CAACuB,UAAN,CAAiBlB,EAAE,CAACiB,kBAApB,CAA9B,EAAuE;IACnE,IAAI,CAACjB,EAAE,CAACG,QAAJ,IAAgBH,EAAE,CAACG,QAAH,KAAgB,IAAhC,IAAwCH,EAAE,CAACG,QAAH,KAAgB,4CAA5D,EAA0G;MACtGF,KAAK,GAAG,IAAIG,KAAJ,CAAU,0EAAV,CAAR;IACH,CAFD,MAEO,IAAI,CAACT,KAAK,CAACU,SAAN,CAAgBL,EAAE,CAACG,QAAnB,CAAL,EAAmC;MACtCF,KAAK,GAAG,IAAIG,KAAJ,yCAA2CJ,EAAE,CAACG,QAA9C,EAAR;IACH;EACJ;;EAED,OAAOF,KAAP;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASM,cAAT,CAAwBY,MAAxB,EAAgC;EAC5B,IAAI,CAACA,MAAL,EAAa;IACT,OAAO,IAAP;EACH;;EACD,QAAQA,MAAR;IACI,KAAK,gBAAL;IACA,KAAK,8BAAL;IACA,KAAK,yCAAL;IACA,KAAK,qBAAL;IACA,KAAK,mCAAL;IACA,KAAK,8CAAL;IACA,KAAK,gBAAL;IACA,KAAK,8BAAL;IACA,KAAK,yCAAL;IACA,KAAK,uBAAL;IACA,KAAK,qCAAL;IACA,KAAK,gDAAL;IACA,KAAK,0BAAL;IACA,KAAK,wCAAL;IACA,KAAK,mDAAL;IACA,KAAK,QAAL;IACA,KAAK,sBAAL;IACA,KAAK,iCAAL;IACA,KAAK,sBAAL;IACA,KAAK,QAAL;IACA,KAAKtB,cAAc,CAACuB,mBAApB;IACA,KAAKvB,cAAc,CAACwB,+BAApB;IACA,KAAKxB,cAAc,CAACyB,wCAApB;IACA,KAAKzB,cAAc,CAAC0B,uBAApB;IACA,KAAK1B,cAAc,CAAC2B,mCAApB;IACA,KAAK3B,cAAc,CAAC4B,4CAApB;IACA,KAAK5B,cAAc,CAAC6B,mBAApB;IACA,KAAK7B,cAAc,CAAC8B,+BAApB;IACA,KAAK9B,cAAc,CAAC+B,wCAApB;IACA,KAAK/B,cAAc,CAACgC,yBAApB;IACA,KAAKhC,cAAc,CAACiC,qCAApB;IACA,KAAKjC,cAAc,CAACkC,8CAApB;IACA,KAAKlC,cAAc,CAACmC,4BAApB;IACA,KAAKnC,cAAc,CAACoC,wCAApB;IACA,KAAKpC,cAAc,CAACqC,iDAApB;IACA,KAAKrC,cAAc,CAACsC,YAApB;IACA,KAAKtC,cAAc,CAACuC,wBAApB;IACA,KAAKvC,cAAc,CAACwC,iCAApB;IACA,KAAKxC,cAAc,CAACyC,wBAApB;IACA,KAAKzC,cAAc,CAAC0C,oCAApB;IACA,KAAK1C,cAAc,CAAC2C,6CAApB;IACA,KAAK3C,cAAc,CAAC4C,uBAApB;IACA,KAAK5C,cAAc,CAAC6C,wBAApB;IACA,KAAK7C,cAAc,CAAC8C,wBAApB;MACI,OAAO,IAAP;EA7CR;;EA+CA,OAAO,KAAP;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,kBAAT,CAA4BC,EAA5B,EAAgC;EAC5B,IAAIA,EAAE,KAAKnC,SAAX,EAAsB;IAClB,OAAO,IAAP;EACH;;EAED,QAAQmC,EAAR;IACI,KAAK,CAAL;IACA,KAAK,KAAL;IACA,KAAK,IAAL;IACA,KAAK,KAAL;MACI,OAAO,IAAP;EALR;;EAOA,OAAO,KAAP;AACH;;AAED,SAASpC,wBAAT,CAAkCT,EAAlC,EAAsC;EAClC,IAAIA,EAAE,CAACQ,IAAH,KAAYE,SAAhB,EAA2B;IACvB,OAAOoC,cAAc,CAAC9C,EAAD,CAArB;EACH;;EACD,QAAQA,EAAE,CAACQ,IAAX;IACI,KAAK,QAAL;IACA,KAAKX,cAAc,CAAC4C,uBAApB;MACI,OAAOK,cAAc,CAAC9C,EAAD,CAArB;;IACJ,KAAK,gBAAL;IACA,KAAKH,cAAc,CAACuB,mBAApB;MACI,OAAO2B,qBAAqB,CAAC/C,EAAD,CAA5B;;IACJ,KAAK,8BAAL;IACA,KAAKH,cAAc,CAACwB,+BAApB;MACI,OAAO2B,iCAAiC,CAAChD,EAAD,CAAxC;;IACJ,KAAK,yCAAL;IACA,KAAKH,cAAc,CAACyB,wCAApB;MACI,OAAO2B,0CAA0C,CAACjD,EAAD,CAAjD;;IACJ,KAAK,qBAAL;IACA,KAAKH,cAAc,CAAC0B,uBAApB;MACI,OAAO2B,yBAAyB,CAAClD,EAAD,CAAhC;;IACJ,KAAK,mCAAL;IACA,KAAKH,cAAc,CAAC2B,mCAApB;MACI,OAAO2B,qCAAqC,CAACnD,EAAD,CAA5C;;IACJ,KAAK,8CAAL;IACA,KAAKH,cAAc,CAAC4B,4CAApB;MACI,OAAO2B,8CAA8C,CAACpD,EAAD,CAArD;;IACJ,KAAK,gBAAL;IACA,KAAKH,cAAc,CAAC6B,mBAApB;MACI,OAAO2B,qBAAqB,CAACrD,EAAD,CAA5B;;IACJ,KAAK,8BAAL;IACA,KAAKH,cAAc,CAAC8B,+BAApB;MACI,OAAO2B,iCAAiC,CAACtD,EAAD,CAAxC;;IACJ,KAAK,yCAAL;IACA,KAAKH,cAAc,CAAC+B,wCAApB;MACI,OAAO2B,0CAA0C,CAACvD,EAAD,CAAjD;;IACJ,KAAK,uBAAL;IACA,KAAKH,cAAc,CAACgC,yBAApB;MACI,OAAO2B,2BAA2B,CAACxD,EAAD,CAAlC;;IACJ,KAAK,qCAAL;IACA,KAAKH,cAAc,CAACiC,qCAApB;MACI,OAAO2B,uCAAuC,CAACzD,EAAD,CAA9C;;IACJ,KAAK,gDAAL;IACA,KAAKH,cAAc,CAACkC,8CAApB;MACI,OAAO2B,gDAAgD,CAAC1D,EAAD,CAAvD;;IACJ,KAAK,0BAAL;IACA,KAAKH,cAAc,CAACmC,4BAApB;MACI,OAAO2B,8BAA8B,CAAC3D,EAAD,CAArC;;IACJ,KAAK,wCAAL;IACA,KAAKH,cAAc,CAACoC,wCAApB;MACI,OAAO2B,0CAA0C,CAAC5D,EAAD,CAAjD;;IACJ,KAAK,mDAAL;IACA,KAAKH,cAAc,CAACqC,iDAApB;MACI,OAAO2B,mDAAmD,CAAC7D,EAAD,CAA1D;;IACJ,KAAK,QAAL;IACA,KAAKH,cAAc,CAACsC,YAApB;MACI,OAAO2B,cAAc,CAAC9D,EAAD,CAArB;;IACJ,KAAK,sBAAL;IACA,KAAKH,cAAc,CAACuC,wBAApB;MACI,OAAO2B,0BAA0B,CAAC/D,EAAD,CAAjC;;IACJ,KAAK,iCAAL;IACA,KAAKH,cAAc,CAACwC,iCAApB;MACI,OAAO2B,mCAAmC,CAAChE,EAAD,CAA1C;;IACJ,KAAK,sBAAL;IACA,KAAKH,cAAc,CAACyC,wBAApB;MACI,OAAO2B,0BAA0B,CAACjE,EAAD,CAAjC;;IACJ,KAAKH,cAAc,CAAC0C,oCAApB;MACI,OAAO2B,sCAAsC,CAAClE,EAAD,CAA7C;;IACJ,KAAKH,cAAc,CAAC2C,6CAApB;MACI,OAAO2B,+CAA+C,CAACnE,EAAD,CAAtD;;IACJ,KAAKH,cAAc,CAAC6C,wBAApB;MACI,OAAO0B,0BAA0B,CAACpE,EAAD,CAAjC;;IACJ,KAAKH,cAAc,CAAC8C,wBAApB;MACI,OAAO0B,0BAA0B,CAACrE,EAAD,CAAjC;EApER;;EAsEA,OAAOU,SAAP;AACH;;AAED,SAASoC,cAAT,CAAwBwB,WAAxB,EAAqC;EACjC,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAnB,IAAgC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAArD,IAAkE4D,WAAW,CAACG,KAAZ,KAAsB/D,SAA5F,EAAuG;IACnG,OAAO,IAAIN,KAAJ,CAAU,6CAAV,CAAP;EACH;;EAED,IACIkE,WAAW,CAACC,EAAZ,IACAD,WAAW,CAACC,EAAZ,KAAmB,IADnB,IAEAD,WAAW,CAACC,EAAZ,KAAmB,4CAFnB,IAGA,CAAC5E,KAAK,CAACU,SAAN,CAAgBiE,WAAW,CAACC,EAA5B,CAJL,EAKE;IACE,OAAO,IAAInE,KAAJ,kCAAoCkE,WAAW,CAACC,EAAhD,EAAP;EACH;;EAED,IAAID,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;;EAED,IAAMP,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASS,uBAAT,CAAiCT,WAAjC,EAA8C;EAC1C,IAAM9D,IAAI,GAAG8D,WAAW,CAAC9D,IAAZ,GAAmB8D,WAAW,CAAC9D,IAA/B,GAAsC,QAAnD;;EACA,IAAI8D,WAAW,CAACnE,QAAZ,KAAyBO,SAA7B,EAAwC;IACpC,OAAO,IAAIN,KAAJ,4CAA4CI,IAA5C,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACW,QAAZ,KAAyBvE,SAA7B,EAAwC;IACpC,OAAO,IAAIN,KAAJ,4CAA4CI,IAA5C,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACrD,kBAAZ,KAAmCP,SAAvC,EAAkD;IAC9C,OAAO,IAAIN,KAAJ,sDAAsDI,IAAtD,kBAAP;EACH;AACJ;;AAED,SAAS0E,oBAAT,CAA8BZ,WAA9B,EAA2C;EACvC,IAAIA,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,YAA1B,KAA2Cb,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,WAA1B,CAA/C,EAAuF;IACnF,IAAIb,WAAW,CAACW,QAAZ,KAAyBvE,SAA7B,EAAwC;MACpC,OAAO,IAAIN,KAAJ,CAAU,uBAAV,CAAP;IACH;EACJ,CAJD,MAIO,IAAIkE,WAAW,CAACW,QAAZ,KAAyBvE,SAA7B,EAAwC;IAC3C,OAAO,IAAIN,KAAJ,4CAA4CkE,WAAW,CAAC9D,IAAxD,kBAAP;EACH;AACJ;;AAED,SAASwE,6BAAT,CAAuCV,WAAvC,EAAoD;EAChD,IAAM9D,IAAI,GAAG8D,WAAW,CAAC9D,IAAZ,GAAmB8D,WAAW,CAAC9D,IAA/B,GAAsC,QAAnD;;EACA,IAAI8D,WAAW,CAACc,OAAZ,KAAwB1E,SAA5B,EAAuC;IACnC,OAAO,IAAIN,KAAJ,2CAA2CI,IAA3C,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACe,GAAZ,KAAoB3E,SAAxB,EAAmC;IAC/B,OAAO,IAAIN,KAAJ,uCAAuCI,IAAvC,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACgB,SAAZ,KAA0B5E,SAA9B,EAAyC;IACrC,OAAO,IAAIN,KAAJ,6CAA6CI,IAA7C,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACiB,SAAZ,KAA0B7E,SAA9B,EAAyC;IACrC,OAAO,IAAIN,KAAJ,6CAA6CI,IAA7C,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACkB,QAAZ,KAAyB9E,SAA7B,EAAwC;IACpC,OAAO,IAAIN,KAAJ,4CAA4CI,IAA5C,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACmB,kBAAZ,KAAmC/E,SAAvC,EAAkD;IAC9C,OAAO,IAAIN,KAAJ,sDAAsDI,IAAtD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACoB,oBAAZ,KAAqChF,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDI,IAAxD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACqB,eAAZ,KAAgCjF,SAApC,EAA+C;IAC3C,OAAO,IAAIN,KAAJ,mDAAmDI,IAAnD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACsB,OAAZ,KAAwBlF,SAA5B,EAAuC;IACnC,OAAO,IAAIN,KAAJ,2CAA2CI,IAA3C,kBAAP;EACH;AACJ;;AAED,SAASqF,2BAAT,CAAqCvB,WAArC,EAAkD;EAC9C,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAvB,EAAkC;IAC9B,OAAO,IAAIN,KAAJ,CAAU,iBAAV,CAAP;EACH;;EACD,IAAI,CAACT,KAAK,CAACU,SAAN,CAAgBiE,WAAW,CAACC,EAA5B,CAAL,EAAsC;IAClC,OAAO,IAAInE,KAAJ,kCAAoCkE,WAAW,CAACC,EAAhD,EAAP;EACH;;EACD,IAAID,WAAW,CAACwB,KAAZ,KAAsBpF,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,CAAU,oBAAV,CAAP;EACH;;EACD,IAAIkE,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACE,IAAZ,KAAqB9D,SAAzB,EAAoC;IAChC,OAAO,IAAIN,KAAJ,wCAAwCkE,WAAW,CAAC9D,IAApD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACG,KAAZ,KAAsB/D,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,yCAAyCkE,WAAW,CAAC9D,IAArD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;AACJ;;AAED,SAASuC,qBAAT,CAA+BuB,WAA/B,EAA4C;EACxC,IAAIrE,KAAK,GAAG4F,2BAA2B,CAACvB,WAAD,CAAvC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAA/B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAAStB,iCAAT,CAA2CsB,WAA3C,EAAwD;EACpD,IAAIrE,KAAK,GAAG4F,2BAA2B,CAACvB,WAAD,CAAvC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAGiF,oBAAoB,CAACZ,WAAD,CAA5B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASrB,0CAAT,CAAoDqB,WAApD,EAAiE;EAC7D,OAAOtB,iCAAiC,CAACsB,WAAD,CAAxC;AACH;;AAED,SAASyB,+BAAT,CAAyCzB,WAAzC,EAAsD;EAClD,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAvB,EAAkC;IAC9B,OAAO,IAAIN,KAAJ,CAAU,iBAAV,CAAP;EACH;;EACD,IAAI,CAACT,KAAK,CAACU,SAAN,CAAgBiE,WAAW,CAACC,EAA5B,CAAL,EAAsC;IAClC,OAAO,IAAInE,KAAJ,kCAAoCkE,WAAW,CAACC,EAAhD,EAAP;EACH;;EACD,IAAID,WAAW,CAACwB,KAAZ,KAAsBpF,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,CAAU,oBAAV,CAAP;EACH;;EAED,IAAIkE,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,OAAO,IAAIN,KAAJ,yFAAP;EACH;;EACD,IAAIkE,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,IAAI4D,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC,OAAO,IAAI/E,KAAJ,CAAU,oBAAV,CAAP;IACzC,OAAO,IAAIA,KAAJ,CAAU,mBAAV,CAAP;EACH;;EAED,IAAIkE,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;AACJ;;AAED,SAAS0C,yBAAT,CAAmCoB,WAAnC,EAAgD;EAC5C,IAAIrE,KAAK,GAAG8F,+BAA+B,CAACzB,WAAD,CAA3C;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAA/B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASnB,qCAAT,CAA+CmB,WAA/C,EAA4D;EACxD,IAAIrE,KAAK,GAAG8F,+BAA+B,CAACzB,WAAD,CAA3C;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAGiF,oBAAoB,CAACZ,WAAD,CAA5B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASlB,8CAAT,CAAwDkB,WAAxD,EAAqE;EACjE,OAAOnB,qCAAqC,CAACmB,WAAD,CAA5C;AACH;;AAED,SAAS0B,0BAAT,CAAoC1B,WAApC,EAAiD;EAC7C,IAAIA,WAAW,CAACE,IAAZ,KAAqB9D,SAAzB,EAAoC;IAChC,OAAO,IAAIN,KAAJ,wCAAwCkE,WAAW,CAAC9D,IAApD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACG,KAAZ,KAAsB/D,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,yCAAyCkE,WAAW,CAAC9D,IAArD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH,CArB4C,CAuB7C;;;EACA,IAAI8D,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC;IACrC,IAAI,CAACb,WAAW,CAACc,OAAjB,EAA0B,OAAO,IAAIhF,KAAJ,4CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;;IAE1B,IAAI8D,WAAW,CAACe,GAAZ,KAAoB3E,SAAxB,EAAmC;MAC/B,OAAO,IAAIN,KAAJ,uCAAuCkE,WAAW,CAAC9D,IAAnD,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACgB,SAAZ,KAA0B5E,SAA9B,EAAyC;MACrC,OAAO,IAAIN,KAAJ,6CAA6CkE,WAAW,CAAC9D,IAAzD,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACiB,SAAhB,EAA2B;MACvB,OAAO,IAAInF,KAAJ,6CAA6CkE,WAAW,CAAC9D,IAAzD,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACkB,QAAhB,EAA0B;MACtB,OAAO,IAAIpF,KAAJ,4CAA4CkE,WAAW,CAAC9D,IAAxD,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACmB,kBAAhB,EAAoC;MAChC,OAAO,IAAIrF,KAAJ,sDAAsDkE,WAAW,CAAC9D,IAAlE,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACoB,oBAAhB,EAAsC;MAClC,OAAO,IAAItF,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACqB,eAAhB,EAAiC;MAC7B,OAAO,IAAIvF,KAAJ,mDAAmDkE,WAAW,CAAC9D,IAA/D,mBAAP;IACH;;IACD,IAAI8D,WAAW,CAACsB,OAAZ,KAAwBlF,SAA5B,EAAuC;MACnC,OAAO,IAAIN,KAAJ,2CAA2CkE,WAAW,CAAC9D,IAAvD,mBAAP;IACH;;IAED;EACH;;EAED,IAAI8D,WAAW,CAACc,OAAhB,EAAyB,OAAO,IAAIhF,KAAJ,2CAA2CkE,WAAW,CAAC9D,IAAvD,kBAAP;EAEzB,IAAMyF,iBAAiB,8CAAuC3B,WAAW,CAAC9D,IAAnD,oBAAvB;;EACA,IACI,CAAC8D,WAAW,CAACe,GAAb,IACAf,WAAW,CAACgB,SAAZ,KAA0B5E,SAD1B,IAEA,CAAC4D,WAAW,CAACiB,SAFb,IAGA,CAACjB,WAAW,CAACkB,QAHb,IAIA,CAAClB,WAAW,CAACmB,kBAJb,IAKA,CAACnB,WAAW,CAACoB,oBALb,IAMA,CAACpB,WAAW,CAACqB,eANb,IAOArB,WAAW,CAACsB,OAAZ,KAAwBlF,SAR5B,EASE;IACE,OAAO,IAAIN,KAAJ,wCAA0CkE,WAAW,CAAC9D,IAAtD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACe,GAAhB,EAAqB;IACjB,IACIf,WAAW,CAACgB,SAAZ,KAA0B5E,SAA1B,IACA4D,WAAW,CAACiB,SADZ,IAEAjB,WAAW,CAACkB,QAFZ,IAGAlB,WAAW,CAACmB,kBAHZ,IAIAnB,WAAW,CAACoB,oBAJZ,IAKApB,WAAW,CAACqB,eALZ,IAMArB,WAAW,CAACsB,OAAZ,KAAwBlF,SAP5B,EAQE;MACE,OAAO,IAAIN,KAAJ,CAAU6F,iBAAV,CAAP;IACH;EACJ,CAZD,MAYO,IAAI3B,WAAW,CAACgB,SAAZ,KAA0B5E,SAA9B,EAAyC;IAC5C,IACI4D,WAAW,CAACiB,SAAZ,IACAjB,WAAW,CAACkB,QADZ,IAEAlB,WAAW,CAACmB,kBAFZ,IAGAnB,WAAW,CAACoB,oBAHZ,IAIApB,WAAW,CAACqB,eAJZ,IAKArB,WAAW,CAACsB,OAAZ,KAAwBlF,SAN5B,EAOE;MACE,OAAO,IAAIN,KAAJ,CAAU6F,iBAAV,CAAP;IACH;EACJ,CAXM,MAWA,IAAI3B,WAAW,CAACiB,SAAhB,EAA2B;IAC9B,IACIjB,WAAW,CAACkB,QAAZ,IACAlB,WAAW,CAACmB,kBADZ,IAEAnB,WAAW,CAACoB,oBAFZ,IAGApB,WAAW,CAACqB,eAHZ,IAIArB,WAAW,CAACsB,OAAZ,KAAwBlF,SAL5B,EAME;MACE,OAAO,IAAIN,KAAJ,CAAU6F,iBAAV,CAAP;IACH;EACJ,CAVM,MAUA,IAAI3B,WAAW,CAACkB,QAAhB,EAA0B;IAC7B,IACIlB,WAAW,CAACmB,kBAAZ,IACAnB,WAAW,CAACoB,oBADZ,IAEApB,WAAW,CAACqB,eAFZ,IAGArB,WAAW,CAACsB,OAAZ,KAAwBlF,SAJ5B,EAKE;MACE,OAAO,IAAIN,KAAJ,CAAU6F,iBAAV,CAAP;IACH;EACJ,CATM,MASA,IAAI3B,WAAW,CAACsB,OAAZ,KAAwBlF,SAA5B,EAAuC;IAC1C,IAAI4D,WAAW,CAACmB,kBAAZ,IAAkCnB,WAAW,CAACoB,oBAA9C,IAAsEpB,WAAW,CAACqB,eAAtF,EAAuG;MACnG,OAAO,IAAIvF,KAAJ,CAAU6F,iBAAV,CAAP;IACH;EACJ;AACJ;;AAED,SAASC,oBAAT,CAA8B5B,WAA9B,EAA2C;EACvC,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAvB,EAAkC;IAC9B,OAAO,IAAIN,KAAJ,sCAAsCkE,WAAW,CAAC9D,IAAlD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACwB,KAAZ,KAAsBpF,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,yCAAyCkE,WAAW,CAAC9D,IAArD,kBAAP;EACH;AACJ;;AAED,SAAS6C,qBAAT,CAA+BiB,WAA/B,EAA4C;EACxC,IAAIrE,KAAK,GAAGiG,oBAAoB,CAAC5B,WAAD,CAAhC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG+F,0BAA0B,CAAC1B,WAAD,CAAlC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO8E,uBAAuB,CAACT,WAAD,CAA9B;AACH;;AAED,SAAShB,iCAAT,CAA2CgB,WAA3C,EAAwD;EACpD,IAAIrE,KAAK,GAAGiG,oBAAoB,CAAC5B,WAAD,CAAhC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG+F,0BAA0B,CAAC1B,WAAD,CAAlC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAOiF,oBAAoB,CAACZ,WAAD,CAA3B;AACH;;AAED,SAASf,0CAAT,CAAoDe,WAApD,EAAiE;EAC7D,OAAOhB,iCAAiC,CAACgB,WAAD,CAAxC;AACH;;AAED,SAAS6B,oBAAT,CAA8B7B,WAA9B,EAA2C;EACvC,IAAIA,WAAW,CAACwB,KAAZ,KAAsBpF,SAAtB,IAAmC,CAAC4D,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAAxC,EAA6E;IACzE,OAAO,IAAI/E,KAAJ,CAAU,oBAAV,CAAP;EACH;;EAED,IAAIkE,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAAxD,IAAqE,CAAC4D,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAA1E,EAA+G;IAC3G,OAAO,IAAI/E,KAAJ,yFAAP;EACH;;EACD,IAAIkE,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,IAAI4D,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC,OAAO,IAAI/E,KAAJ,CAAU,oBAAV,CAAP;IACzC,OAAO,IAAIA,KAAJ,CAAU,mBAAV,CAAP;EACH,CAXsC,CAavC;;;EACA,IAAIkE,WAAW,CAACC,EAAZ,IAAkBD,WAAW,CAACC,EAAZ,KAAmB,IAAzC,EAA+C;IAC3C,OAAO,IAAInE,KAAJ,sCAAsCkE,WAAW,CAAC9D,IAAlD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACI,UAAZ,KAA2BhE,SAA3B,IAAwC,CAACkC,kBAAkB,CAAC0B,WAAW,CAACI,UAAb,CAA/D,EAAyF;IACrF,OAAO,IAAItE,KAAJ,0BAA4BkE,WAAW,CAACI,UAAxC,mBAAP;EACH;;EACD,IAAIJ,WAAW,CAACK,aAAZ,KAA8BjE,SAA9B,IAA2C4D,WAAW,CAACK,aAAZ,KAA8B,IAA7E,EAAmF;IAC/E,OAAO,IAAIvE,KAAJ,CAAU,4CAAV,CAAP;EACH;;EACD,IAAIkE,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;AACJ;;AAED,SAASgD,2BAAT,CAAqCc,WAArC,EAAkD;EAC9C,IAAIrE,KAAK,GAAGkG,oBAAoB,CAAC7B,WAAD,CAAhC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAA/B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASb,uCAAT,CAAiDa,WAAjD,EAA8D;EAC1D,IAAIrE,KAAK,GAAGkG,oBAAoB,CAAC7B,WAAD,CAAhC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG+E,6BAA6B,CAACV,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAOiF,oBAAoB,CAACZ,WAAD,CAA3B;AACH;;AAED,SAASZ,gDAAT,CAA0DY,WAA1D,EAAuE;EACnE,OAAOb,uCAAuC,CAACa,WAAD,CAA9C;AACH;;AAED,SAAS8B,uBAAT,CAAiC9B,WAAjC,EAA8C;EAC1C,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAvB,EAAkC;IAC9B,OAAO,IAAIN,KAAJ,CAAU,iBAAV,CAAP;EACH;;EACD,IAAI,CAACT,KAAK,CAACU,SAAN,CAAgBiE,WAAW,CAACC,EAA5B,CAAL,EAAsC;IAClC,OAAO,IAAInE,KAAJ,kCAAoCkE,WAAW,CAACC,EAAhD,EAAP;EACH;;EAED,IAAID,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,OAAO,IAAIN,KAAJ,yFAAP;EACH;;EACD,IAAIkE,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,IAAI4D,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC,OAAO,IAAI/E,KAAJ,CAAU,oBAAV,CAAP;IACzC,OAAO,IAAIA,KAAJ,CAAU,mBAAV,CAAP;EACH;;EAED,IAAIkE,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;AACJ;;AAED,SAASmD,8BAAT,CAAwCW,WAAxC,EAAqD;EACjD,IAAIrE,KAAK,GAAGmG,uBAAuB,CAAC9B,WAAD,CAAnC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAA/B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASV,0CAAT,CAAoDU,WAApD,EAAiE;EAC7D,IAAIrE,KAAK,GAAGmG,uBAAuB,CAAC9B,WAAD,CAAnC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG+E,6BAA6B,CAACV,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAOiF,oBAAoB,CAACZ,WAAD,CAA3B;AACH;;AAED,SAAST,mDAAT,CAA6DS,WAA7D,EAA0E;EACtE,OAAOV,0CAA0C,CAACU,WAAD,CAAjD;AACH;;AAED,SAAS+B,qBAAT,CAA+B/B,WAA/B,EAA4C;EACxC,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAvB,EAAkC;IAC9B,OAAO,IAAIN,KAAJ,sCAAsCkE,WAAW,CAAC9D,IAAlD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACwB,KAAZ,KAAsBpF,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,yCAAyCkE,WAAW,CAAC9D,IAArD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACE,IAAZ,KAAqB9D,SAAzB,EAAoC;IAChC,OAAO,IAAIN,KAAJ,wCAAwCkE,WAAW,CAAC9D,IAApD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACG,KAAZ,KAAsB/D,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,yCAAyCkE,WAAW,CAAC9D,IAArD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;AACJ;;AAED,SAASsD,cAAT,CAAwBQ,WAAxB,EAAqC;EACjC,IAAIrE,KAAK,GAAGoG,qBAAqB,CAAC/B,WAAD,CAAjC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAA/B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASP,0BAAT,CAAoCO,WAApC,EAAiD;EAC7C,IAAIrE,KAAK,GAAGoG,qBAAqB,CAAC/B,WAAD,CAAjC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG+E,6BAA6B,CAACV,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAOiF,oBAAoB,CAACZ,WAAD,CAA3B;AACH;;AAED,SAASN,mCAAT,CAA6CM,WAA7C,EAA0D;EACtD,OAAOP,0BAA0B,CAACO,WAAD,CAAjC;AACH;;AAED,SAASgC,gCAAT,CAA0ChC,WAA1C,EAAuD;EACnD,IAAIA,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,OAAO,IAAIN,KAAJ,yFAAP;EACH;;EACD,IAAIkE,WAAW,CAACG,KAAZ,KAAsB/D,SAAtB,IAAmC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAA5D,EAAuE;IACnE,IAAI4D,WAAW,CAACiC,YAAZ,KAA6B7F,SAAjC,EAA4C;MACxC4D,WAAW,CAACE,IAAZ,GAAmBF,WAAW,CAACiC,YAA/B;MACA,OAAOjC,WAAW,CAACiC,YAAnB;IACH,CAHD,MAGO;MACH,IAAIjC,WAAW,CAAC9D,IAAZ,CAAiB2E,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC,OAAO,IAAI/E,KAAJ,CAAU,oBAAV,CAAP;MACzC,OAAO,IAAIA,KAAJ,CAAU,mBAAV,CAAP;IACH;EACJ;;EAED,IAAIkE,WAAW,CAACwB,KAAZ,KAAsBpF,SAA1B,EAAqC;IACjC,OAAO,IAAIN,KAAJ,yCAAyCkE,WAAW,CAAC9D,IAArD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACC,EAAZ,KAAmB7D,SAAvB,EAAkC;IAC9B,OAAO,IAAIN,KAAJ,sCAAsCkE,WAAW,CAAC9D,IAAlD,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACM,UAAZ,KAA2BlE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EACD,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;AACJ;;AAED,SAASyD,0BAAT,CAAoCK,WAApC,EAAiD;EAC7C,IAAIrE,KAAK,GAAGqG,gCAAgC,CAAChC,WAAD,CAA5C;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAA/B;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASJ,sCAAT,CAAgDI,WAAhD,EAA6D;EACzD,IAAIrE,KAAK,GAAGqG,gCAAgC,CAAChC,WAAD,CAA5C;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEXA,KAAK,GAAG+E,6BAA6B,CAACV,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAOiF,oBAAoB,CAACZ,WAAD,CAA3B;AACH;;AAED,SAASH,+CAAT,CAAyDG,WAAzD,EAAsE;EAClE,OAAOJ,sCAAsC,CAACI,WAAD,CAA7C;AACH;;AAED,SAASF,0BAAT,CAAoCE,WAApC,EAAiD;EAC7C,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAnB,IAAgC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAArD,IAAkE4D,WAAW,CAACG,KAAZ,KAAsB/D,SAA5F,EAAuG;IACnG,OAAO,IAAIN,KAAJ,CAAU,6CAAV,CAAP;EACH;;EAED,IACIkE,WAAW,CAACC,EAAZ,IACAD,WAAW,CAACC,EAAZ,KAAmB,IADnB,IAEAD,WAAW,CAACC,EAAZ,KAAmB,4CAFnB,IAGA,CAAC5E,KAAK,CAACU,SAAN,CAAgBiE,WAAW,CAACC,EAA5B,CAJL,EAKE;IACE,OAAO,IAAInE,KAAJ,kCAAoCkE,WAAW,CAACC,EAAhD,EAAP;EACH;;EAED,IAAID,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACO,oBAAZ,KAAqCnE,SAAzC,EAAoD;IAChD,OAAO,IAAIN,KAAJ,wDAAwDkE,WAAW,CAAC9D,IAApE,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACQ,YAAZ,KAA6BpE,SAAjC,EAA4C;IACxC,OAAO,IAAIN,KAAJ,gDAAgDkE,WAAW,CAAC9D,IAA5D,kBAAP;EACH;;EAED,IAAMP,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAED,SAASD,0BAAT,CAAoCC,WAApC,EAAiD;EAC7C,IAAIA,WAAW,CAACC,EAAZ,KAAmB7D,SAAnB,IAAgC4D,WAAW,CAACE,IAAZ,KAAqB9D,SAArD,IAAkE4D,WAAW,CAACG,KAAZ,KAAsB/D,SAA5F,EAAuG;IACnG,OAAO,IAAIN,KAAJ,CAAU,6CAAV,CAAP;EACH;;EAED,IACIkE,WAAW,CAACC,EAAZ,IACAD,WAAW,CAACC,EAAZ,KAAmB,IADnB,IAEAD,WAAW,CAACC,EAAZ,KAAmB,4CAFnB,IAGA,CAAC5E,KAAK,CAACU,SAAN,CAAgBiE,WAAW,CAACC,EAA5B,CAJL,EAKE;IACE,OAAO,IAAInE,KAAJ,kCAAoCkE,WAAW,CAACC,EAAhD,EAAP;EACH;;EAED,IAAID,WAAW,CAACI,UAAZ,KAA2BhE,SAA/B,EAA0C;IACtC,OAAO,IAAIN,KAAJ,8CAA8CkE,WAAW,CAAC9D,IAA1D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACK,aAAZ,KAA8BjE,SAAlC,EAA6C;IACzC,OAAO,IAAIN,KAAJ,iDAAiDkE,WAAW,CAAC9D,IAA7D,kBAAP;EACH;;EAED,IAAI8D,WAAW,CAACvD,QAAZ,KAAyBL,SAA7B,EAAwC;IACpC,OAAO,IAAIN,KAAJ,4CAC+BkE,WAAW,CAAC9D,IAD3C,yEAAP;EAGH;;EAED,IAAMP,KAAK,GAAG8E,uBAAuB,CAACT,WAAD,CAArC;EACA,IAAIrE,KAAJ,EAAW,OAAOA,KAAP;EAEX,OAAO+E,6BAA6B,CAACV,WAAD,CAApC;AACH;;AAEDkC,MAAM,CAACC,OAAP,GAAiB;EACb1G,cAAc,EAAdA,cADa;EAEbQ,cAAc,EAAdA,cAFa;EAGbqC,kBAAkB,EAAlBA;AAHa,CAAjB"},"metadata":{},"sourceType":"script"}