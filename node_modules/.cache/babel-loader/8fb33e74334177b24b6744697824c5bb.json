{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\clone-starter-kit-08\\\\src\\\\components\\\\Likedislike.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Review.css';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\n\nfunction Likedislike(_ref) {\n  let {\n    content_id,\n    review_id,\n    owner_id\n  } = _ref;\n  const [likecnt, setlikecnt] = useState(0);\n  const [Dislikecnt, setDislikecnt] = useState(1);\n  useEffect(async () => {\n    const fetchData = async () => {\n      console.log('likecnt : ' + likecnt + '  Dislikecnt :' + Dislikecnt);\n      console.log('content_id : ' + content_id + '  review_id :' + review_id + '  owner_id :' + owner_id);\n      axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production', {\n        \"target\": \"getlike\",\n        \"content_id\": content_id,\n        \"review_id\": review_id\n      }).then(response => {\n        console.log(response.config.maxContentLength);\n\n        if (response.data.statusCode == 200 && response.config.maxContentLength > 0) {\n          const y_cnt = JSON.parse(response.data.body);\n          console.log(\"response: \" + y_cnt);\n        } else {\n          setlikecnt(likecnt => 0);\n          setDislikecnt(Dislikecnt => 0);\n        }\n      }).catch(error => {\n        console.log(error.response);\n      });\n      /*\r\n      setlikecnt(likecnt => 0);\r\n      setDislikecnt(Dislikecnt => 0);\r\n      \r\n      const res = await axios.get(...)\r\n      if (res.data.type === 'liked') setLike(true) */\n    };\n\n    fetchData();\n  }, []);\n\n  const likeadd = () => {\n    console.log('likeadd review_id:' + review_id);\n    setlikecnt(likecnt => likecnt + 1);\n  };\n\n  const Dislikeadd = () => {\n    console.log('Dislike review_id:' + review_id);\n    setDislikecnt(Dislikecnt => Dislikecnt + 1);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"likedislike\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \" \", review_id, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./assets/iconmonstr-thumb-14.svg\",\n    alt: \"like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: likeadd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 70\n    }\n  }, likecnt), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./assets/iconmonstr-thumb-20.svg\",\n    alt: \"dislkie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: Dislikeadd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 73\n    }\n  }, Dislikecnt));\n}\n\nLikedislike.propTypes = {\n  content_id: PropTypes.string.isRequired,\n  review_id: PropTypes.number.isRequired,\n  owner_id: PropTypes.string.isRequired\n};\nexport default Likedislike;","map":{"version":3,"names":["React","useState","useEffect","axios","PropTypes","Likedislike","content_id","review_id","owner_id","likecnt","setlikecnt","Dislikecnt","setDislikecnt","fetchData","console","log","post","then","response","config","maxContentLength","data","statusCode","y_cnt","JSON","parse","body","catch","error","likeadd","Dislikeadd","propTypes","string","isRequired","number"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/src/components/Likedislike.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Review.css';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Likedislike({content_id, review_id, owner_id}) {\r\n\r\n    const [likecnt, setlikecnt] = useState(0);\r\n    const [Dislikecnt, setDislikecnt] = useState(1);\r\n\r\n    useEffect(async () => {\r\n        const fetchData = async () => {\r\n            console.log('likecnt : '+ likecnt + '  Dislikecnt :' + Dislikecnt) ;\r\n            console.log('content_id : ' + content_id + '  review_id :' + review_id + '  owner_id :' + owner_id);\r\n            \r\n            axios.post('https://vrkj60roca.execute-api.ap-northeast-2.amazonaws.com/Production',\r\n                {\r\n                    \"target\": \"getlike\",\r\n                    \"content_id\": content_id,\r\n                    \"review_id\": review_id\r\n                })\r\n                .then((response) => {\r\n                    console.log(response.config.maxContentLength);\r\n                    if (response.data.statusCode == 200 && response.config.maxContentLength > 0) {\r\n                        const y_cnt = JSON.parse(response.data.body);\r\n                        console.log(\"response: \" + y_cnt);\r\n                    }\r\n                    else {\r\n                        setlikecnt(likecnt => 0);\r\n                        setDislikecnt(Dislikecnt => 0);\r\n                    }\r\n                               \r\n                })\r\n                .catch((error) => {\r\n                    console.log(error.response);\r\n                });\r\n            /*\r\n            setlikecnt(likecnt => 0);\r\n            setDislikecnt(Dislikecnt => 0);\r\n            \r\n            const res = await axios.get(...)\r\n            if (res.data.type === 'liked') setLike(true) */\r\n        }\r\n        fetchData()\r\n    }, []);\r\n\r\n    const likeadd = () => {\r\n        console.log('likeadd review_id:' + review_id);\r\n        setlikecnt(likecnt => likecnt + 1);\r\n    }\r\n\r\n    const Dislikeadd = () => {\r\n        console.log('Dislike review_id:' + review_id);\r\n        setDislikecnt(Dislikecnt => Dislikecnt + 1);\r\n    }\r\n\r\n    return (\r\n        <div className = \"likedislike\" > {review_id}\r\n            <img src=\"./assets/iconmonstr-thumb-14.svg\" alt=\"like\" /><button onClick={likeadd}>{likecnt}</button>  \r\n            <img src=\"./assets/iconmonstr-thumb-20.svg\" alt=\"dislkie\" /><button onClick={Dislikeadd}>{Dislikecnt}</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nLikedislike.propTypes = {\r\n    content_id: PropTypes.string.isRequired,\r\n    review_id: PropTypes.number.isRequired,\r\n    owner_id: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Likedislike; "],"mappings":"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"},"metadata":{},"sourceType":"module"}