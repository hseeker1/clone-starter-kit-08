{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\User\\\\Documents\\\\clone-starter-kit-08\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import ReactDOM from'react-dom';import'./Login.css';import caver from'caver-js';function Login(){var _this=this;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),errorMessages=_useState2[0],setErrorMessages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSubmiited=_useState4[0],setIsSubmitted=_useState4[1];var logindb=[{uname:\"sohan1\",password:\"pass1\"},{uname:\"sohan2\",password:\"pass2\"}];var errors={uname:\"invalide username\",upass:\"invalid password\"};var handlekaikas=function handlekaikas(event){event.preventDefault();var _window=window,klaytn=_window.klaytn;if(klaytn){try{klaytn.enable();_this.setAccountInfo(klaytn);klaytn.on('accountsChanged',function(){return _this.setAccountInfo(klaytn);});}catch(error){console.log('User denied account access');}}else{console.log('Non-Kaikas browser detected. You should consider trying Kaikas!');}};var handleSubmit=function handleSubmit(event){event.preventDefault();var _document$forms$=document.forms[0],uname=_document$forms$.uname,upass=_document$forms$.upass;var userData=logindb.find(function(user){return user.uname===uname.value;});if(userData){if(userData.password!==upass.value){setErrorMessages({name:\"upass\",message:errors.upass});}else{setIsSubmitted(true);sessionStorage.setItem(\"uname\",userData.uname);}}else{setErrorMessages({name:\"uname\",message:errors.uname});}};var renderErrorMessage=function renderErrorMessage(name){return name===errorMessages.name&&/*#__PURE__*/React.createElement(\"div\",{className:\"error\"},errorMessages.message);};var renderForm=/*#__PURE__*/React.createElement(\"div\",{className:\"form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"input-container\"},/*#__PURE__*/React.createElement(\"label\",null,\"Nickname\"),/*#__PURE__*/React.createElement(\"input\",{type:\"myid\",name:\"uname\",required:true}),renderErrorMessage(\"uname\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-container\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"upass\",required:true}),renderErrorMessage(\"upass\")),/*#__PURE__*/React.createElement(\"div\",{className:\"button-container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"button-container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"button\",onClick:handlekaikas}))));return/*#__PURE__*/React.createElement(\"div\",{className:\"login__container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mytitle\"},\"Log In\"),isSubmiited?/*#__PURE__*/React.createElement(\"div\",null,\"User is successfullly logged in\"):renderForm);}export default Login;","map":{"version":3,"names":["React","useState","ReactDOM","caver","Login","errorMessages","setErrorMessages","isSubmiited","setIsSubmitted","logindb","uname","password","errors","upass","handlekaikas","event","preventDefault","window","klaytn","enable","setAccountInfo","on","error","console","log","handleSubmit","document","forms","userData","find","user","value","name","message","sessionStorage","setItem","renderErrorMessage","renderForm"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/src/routes/Login.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Login.css';\r\nimport caver from 'caver-js'\r\n\r\n\r\nfunction Login() {\r\n\r\nconst [errorMessages, setErrorMessages] = useState({});\r\nconst [isSubmiited, setIsSubmitted] = useState(false);\r\n\r\nconst logindb = [\r\n  {\r\n    uname : \"sohan1\",\r\n    password : \"pass1\"\r\n  },\r\n  {\r\n    uname : \"sohan2\",\r\n    password : \"pass2\"\r\n  }\r\n];\r\n\r\nconst errors = {\r\n  uname: \"invalide username\",\r\n  upass: \"invalid password\"\r\n};\r\n\r\nconst handlekaikas = (event) => {\r\n  event.preventDefault();\r\n  const { klaytn } = window\r\n\r\n  if (klaytn) {\r\n    try {\r\n      klaytn.enable()\r\n      this.setAccountInfo(klaytn)\r\n      klaytn.on('accountsChanged', () => this.setAccountInfo(klaytn))\r\n    } catch (error) {\r\n      console.log('User denied account access')\r\n    }\r\n  } else {\r\n    console.log('Non-Kaikas browser detected. You should consider trying Kaikas!')\r\n  }\r\n\r\n};\r\n\r\n\r\nconst handleSubmit = (event) => {\r\n  event.preventDefault();\r\n\r\n  var {uname, upass} = document.forms[0];\r\n\r\n  const userData = logindb.find((user) => user.uname === uname.value );\r\n\r\n  if ( userData) {\r\n    if(userData.password !== upass.value ) {\r\n      setErrorMessages({name : \"upass\", message: errors.upass});\r\n    } else {\r\n      setIsSubmitted(true);\r\n      sessionStorage.setItem(\"uname\", userData.uname);\r\n    }\r\n  } else {\r\n    setErrorMessages({name : \"uname\", message: errors.uname });\r\n  }\r\n};\r\n\r\nconst renderErrorMessage = (name) => name === errorMessages.name && (\r\n  <div className=\"error\">{errorMessages.message}</div>\r\n);\r\n\r\n  const renderForm = (\r\n    <div className=\"form\">\r\n    <form onSubmit = {handleSubmit}>\r\n     <div className=\"input-container\">\r\n      <label>Nickname</label>\r\n      <input type = \"myid\" name=\"uname\" required />\r\n      {renderErrorMessage(\"uname\")}\r\n     </div>\r\n     <div className=\"input-container\">\r\n      <label>Password</label>\r\n      <input type = \"password\" name=\"upass\" required />\r\n      {renderErrorMessage(\"upass\")}\r\n     </div>\r\n     <div className=\"button-container\">\r\n      <input type = \"submit\" />\r\n     </div>\r\n      <div className=\"button-container\">\r\n          <input type=\"button\" onClick={handlekaikas}/>\r\n       </div>\r\n    </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"login__container\">\r\n      <div className=\"mytitle\">Log In</div>\r\n      {isSubmiited ? <div>User is successfullly logged in</div> : renderForm}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}