{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\clone-starter-kit-08\\\\src\\\\routes\\\\Login.js\";\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './Login.css';\nimport caver from 'caver-js';\nconst logindb = [{\n  uname: \"sohan1\",\n  password: \"pass1\"\n}, {\n  uname: \"sohan2\",\n  password: \"pass2\"\n}, {\n  uname: \"sohan3\",\n  password: \"pass3\"\n}, {\n  uname: \"sohan4\",\n  password: \"pass4\"\n}];\nconst errors = {\n  uname: \"invalide username\",\n  upass: \"invalid password\"\n};\n\nclass Login extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      errorMessagees: '',\n      isSubmitted: false,\n      account: '',\n      balance: 0,\n      network: ''\n    };\n\n    this.loadAccountInfo = async () => {\n      const {\n        klaytn\n      } = window;\n\n      if (klaytn) {\n        try {\n          await klaytn.enable();\n          this.setAccountInfo(klaytn);\n          klaytn.on('accountsChanged', () => this.setAccountInfo(klaytn));\n        } catch (error) {\n          // console.log('User denied account access : '+error) \n          console.log(error);\n        }\n      } else {\n        console.log('Non-Kaikas browser detected. You should consider trying Kaikas!');\n      }\n    };\n\n    this.setAccountInfo = async () => {\n      const {\n        klaytn\n      } = window;\n      if (klaytn === undefined) return;\n      const account = klaytn.selectedAddress;\n      const balance = await caver.klay.getBalance(account);\n      this.setState({\n        account: account,\n        balance: caver.utils.fromPeb(balance, 'KLAY')\n      });\n    };\n\n    this.setNetworkInfo = () => {\n      const {\n        klaytn\n      } = window;\n      if (klaytn === undefined) return;\n      this.setState({\n        network: klaytn.networkVersion\n      });\n      klaytn.on('networkChanged', () => this.setNetworkInfo(klaytn.networkVersion));\n    };\n\n    this.handlekaikas = event => {\n      event.preventDefault();\n      const {\n        klaytn\n      } = window;\n      this.loadAccountInfo();\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      var {\n        uname,\n        upass\n      } = document.forms[0];\n      const userData = logindb.find(user => user.uname === uname.value);\n\n      if (userData) {\n        if (userData.password !== upass.value) {\n          //  setErrorMessages({name : \"upass\", message: errors.upass});\n          this.setState({\n            errrorMessages: {\n              name: \"upass\",\n              message: errors.upass\n            }\n          });\n        } else {\n          // setIsSubmitted(true);\n          this.setState({\n            IsSubmiited: true\n          });\n          sessionStorage.setItem(\"uname\", userData.uname);\n        }\n      } else {\n        //  setErrorMessages({name : \"uname\", message: errors.uname });\n        this.setState({\n          errorMessages: {\n            name: \"uname\",\n            message: errors.uname\n          }\n        });\n      }\n    };\n\n    this.renderErrorMessage = name => name === this.state.errorMessages.name && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 3\n      }\n    }, this.state.errorMessages.message);\n\n    this.renderForm = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, \"Nickname\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"myid\",\n      name: \"uname\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }), this.renderErrorMessage(\"uname\"), \"s\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"upass\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }), this.renderErrorMessage(\"upass\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      onClick: this.handlekaikas,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n  componentDidMount() {\n    const {\n      history\n    } = this.props;\n    /*\r\n    if (this.props.match.params.url_content_id === undefined) { //location.state === undefined ||\r\n      history.push('/');\r\n    } */\n\n    this.handlekaikas();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mytitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, \"Log In\"), this.state.isSubmiited ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 34\n      }\n    }, \"User is successfullly logged in\") : this.renderForm);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"names":["React","useState","ReactDOM","caver","logindb","uname","password","errors","upass","Login","Component","state","errorMessagees","isSubmitted","account","balance","network","loadAccountInfo","klaytn","window","enable","setAccountInfo","on","error","console","log","undefined","selectedAddress","klay","getBalance","setState","utils","fromPeb","setNetworkInfo","networkVersion","handlekaikas","event","preventDefault","handleSubmit","document","forms","userData","find","user","value","errrorMessages","name","message","IsSubmiited","sessionStorage","setItem","errorMessages","renderErrorMessage","renderForm","componentDidMount","history","props","render","isSubmiited"],"sources":["C:/Users/User/Documents/clone-starter-kit-08/src/routes/Login.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Login.css';\r\nimport caver from 'caver-js'\r\n\r\n\r\n\r\nconst logindb = [\r\n  {\r\n    uname : \"sohan1\",\r\n    password : \"pass1\"\r\n  },\r\n  {\r\n    uname : \"sohan2\",\r\n    password : \"pass2\"\r\n  },\r\n  {\r\n    uname : \"sohan3\",\r\n    password : \"pass3\"\r\n  },\r\n  {\r\n    uname : \"sohan4\",\r\n    password : \"pass4\"\r\n  }\r\n];\r\n\r\nconst errors = {\r\n  uname: \"invalide username\",\r\n  upass: \"invalid password\"\r\n};\r\n\r\nclass Login extends React.Component {\r\n\r\nstate = {\r\n  errorMessagees: '',\r\n  isSubmitted:false,\r\n  account:'',\r\n  balance : 0,\r\n  network :''\r\n}\r\n  /*\r\nconst [errorMessages, setErrorMessages] = useState({});\r\nconst [isSubmiited, setIsSubmitted] = useState(false);\r\n*/\r\n\r\nloadAccountInfo = async () => {\r\n  const { klaytn } = window\r\n\r\n  if (klaytn) {\r\n    try {\r\n      await klaytn.enable()\r\n      this.setAccountInfo(klaytn)\r\n      klaytn.on('accountsChanged', () => this.setAccountInfo(klaytn))\r\n    } catch (error) {\r\n     // console.log('User denied account access : '+error) \r\n     console.log(error) \r\n    }\r\n  } else {\r\n    console.log('Non-Kaikas browser detected. You should consider trying Kaikas!')\r\n  }\r\n}\r\n\r\nsetAccountInfo = async () => {\r\n  const { klaytn } = window\r\n  if (klaytn === undefined) return\r\n\r\n  const account = klaytn.selectedAddress\r\n  const balance = await caver.klay.getBalance(account)\r\n  this.setState({\r\n    account: account,\r\n    balance: caver.utils.fromPeb(balance, 'KLAY'),\r\n  })\r\n}\r\n\r\nsetNetworkInfo = () => {\r\n  const { klaytn } = window\r\n  if (klaytn === undefined) return\r\n\r\n  this.setState({ network: klaytn.networkVersion })\r\n  klaytn.on('networkChanged', () => this.setNetworkInfo(klaytn.networkVersion))\r\n}\r\n\r\nhandlekaikas = (event) => {\r\n  event.preventDefault();\r\n  \r\n  const { klaytn } = window;\r\n\r\n  this.loadAccountInfo();\r\n  \r\n};\r\n\r\n\r\nhandleSubmit = (event) => {\r\n  event.preventDefault();\r\n\r\n  var {uname, upass} = document.forms[0];\r\n\r\n  const userData = logindb.find((user) => user.uname === uname.value );\r\n\r\n  if ( userData) {\r\n    if(userData.password !== upass.value ) {\r\n     //  setErrorMessages({name : \"upass\", message: errors.upass});\r\n     this.setState({errrorMessages : {name : \"upass\", message: errors.upass}});\r\n    } else {\r\n     // setIsSubmitted(true);\r\n      this.setState({IsSubmiited : true});\r\n      sessionStorage.setItem(\"uname\", userData.uname);\r\n    }\r\n  } else {\r\n  //  setErrorMessages({name : \"uname\", message: errors.uname });\r\n    this.setState({errorMessages: {name : \"uname\", message: errors.uname }});\r\n  }\r\n};\r\n\r\nrenderErrorMessage = (name) => name === this.state.errorMessages.name && (\r\n  <div className=\"error\">{this.state.errorMessages.message}</div>\r\n);\r\n\r\nrenderForm = (\r\n    <div className=\"form\">\r\n    <form onSubmit = {this.handleSubmit}>\r\n     <div className=\"input-container\">\r\n      <label>Nickname</label>\r\n      <input type = \"myid\" name=\"uname\" required />\r\n      {this.renderErrorMessage(\"uname\")}s\r\n     </div>\r\n     <div className=\"input-container\">\r\n      <label>Password</label>\r\n      <input type = \"password\" name=\"upass\" required />\r\n      {this.renderErrorMessage(\"upass\")}\r\n     </div>\r\n     <div className=\"button-container\">\r\n      <input type = \"submit\" />\r\n     </div>\r\n      <div className=\"button-container\">\r\n          <input type=\"button\" onClick={this.handlekaikas}/>\r\n       </div>\r\n    </form>\r\n    </div>\r\n  );\r\n\r\n\r\n  componentDidMount() {\r\n   \r\n     const { history } = this.props;\r\n     /*\r\n     if (this.props.match.params.url_content_id === undefined) { //location.state === undefined ||\r\n       history.push('/');\r\n     } */\r\n     this.handlekaikas();\r\n   }\r\n\r\n  render(){\r\n  \r\n    return (\r\n      <div className=\"login__container\">\r\n        <div className=\"mytitle\">Log In</div>\r\n       {this.state.isSubmiited ? <div>User is successfullly logged in</div> : this.renderForm}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}